<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2672px" preserveAspectRatio="none" style="width:1239px;height:2672px;background:#FEFEFE;" version="1.1" viewBox="0 0 1239 2672" width="1239px" zoomAndPan="magnify"><title>UC 4-2 AI&#12481;&#12515;&#12483;&#12488; &#12471;&#12540;&#12465;&#12531;&#12473;&#22259;</title><defs/><g><rect fill="#FEFEFE" height="2672" style="stroke:none;stroke-width:1;" width="1239" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="210.499" x="533.0071" y="29.5332">UC 4-2 AI&#12481;&#12515;&#12483;&#12488; &#12471;&#12540;&#12465;&#12531;&#12473;&#22259;</text><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="39.5" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="121.2188" y2="2589.7891"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="232.5" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="236" x2="236" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="159.1094" style="stroke:#1976D2;stroke-width:1;" width="10" x="231" y="195.9219"/></g><g><title/><rect fill="#FFFFFF" height="172.4609" style="stroke:#1976D2;stroke-width:1;" width="10" x="231" y="429.7344"/></g><g><title/><rect fill="#FFFFFF" height="196.4609" style="stroke:#1976D2;stroke-width:1;" width="10" x="231" y="2375.3281"/></g><g><title>APIRoutes</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="433.5171" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="437.0171" x2="437.0171" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="62.7031" style="stroke:#1976D2;stroke-width:1;" width="10" x="432.0171" y="509.1406"/></g><g><title/><rect fill="#FFFFFF" height="66.7031" style="stroke:#1976D2;stroke-width:1;" width="10" x="432.0171" y="2474.7344"/></g><g><title>AIService</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="655.5068" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="659.0068" x2="659.0068" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="379.2734" style="stroke:#1976D2;stroke-width:1;" width="10" x="654.0068" y="958.3516"/></g><g><title>PromptService</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="852.0024" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="855.5024" x2="855.5024" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="132.1094" style="stroke:#1976D2;stroke-width:1;" width="10" x="850.5024" y="1005.0547"/></g><g><title>OpenRouterClient</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="977.9365" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="981.4365" x2="981.4365" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="139.7578" style="stroke:#1976D2;stroke-width:1;" width="10" x="976.4365" y="1167.5156"/></g><g><title>OpenRouter</title><rect fill="#000000" fill-opacity="0.00000" height="2468.5703" width="8" x="1153.5718" y="121.2188"/><line style="stroke:#1976D2;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1157.0718" x2="1157.0718" y1="121.2188" y2="2589.7891"/></g><g><title/><rect fill="#FFFFFF" height="62.7031" style="stroke:#1976D2;stroke-width:1;" width="10" x="1152.0718" y="1214.2188"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="25.2207" y="118.1426">User</text><ellipse cx="43" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,60.1094 L43,87.1094 M30,68.1094 L56,68.1094 M43,87.1094 L30,102.1094 M43,87.1094 L56,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="134.5518" x="168.7241" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3447" x="210.3276" y="92.5332">Browser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5518" x="175.7241" y="110.1426">(AI&#12481;&#12515;&#12483;&#12488;&#12497;&#12493;&#12523;)</text><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="91.0342" x="391.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.9238" x="403.5552" y="92.5332">APIRoutes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0342" x="398.5" y="110.1426">(/api/ai/chat)</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="73.9102" x="622.0518" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9102" x="629.0518" y="110.1426">AIService</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="105.8066" x="802.5991" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8066" x="809.5991" y="110.1426">PromptService</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="126.0615" x="918.4058" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0615" x="925.4058" y="110.1426">OpenRouterClient</text><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="90.2686" x="1111.9375" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2686" x="1118.9375" y="92.5332">OpenRouter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5654" x="1145.7891" y="110.1426">API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="25.2207" y="2664.3223">User</text><ellipse cx="43" cy="2598.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43,2606.2891 L43,2633.2891 M30,2614.2891 L56,2614.2891 M43,2633.2891 L30,2648.2891 M43,2633.2891 L56,2648.2891" fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="134.5518" x="168.7241" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3447" x="210.3276" y="2611.3223">Browser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5518" x="175.7241" y="2628.9316">(AI&#12481;&#12515;&#12483;&#12488;&#12497;&#12493;&#12523;)</text><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="91.0342" x="391.5" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.9238" x="403.5552" y="2611.3223">APIRoutes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0342" x="398.5" y="2628.9316">(/api/ai/chat)</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="73.9102" x="622.0518" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9102" x="629.0518" y="2611.3223">AIService</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="105.8066" x="802.5991" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8066" x="809.5991" y="2611.3223">PromptService</text><rect fill="#E8F4FD" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="126.0615" x="918.4058" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0615" x="925.4058" y="2611.3223">OpenRouterClient</text><rect fill="#E8F4FD" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1976D2;stroke-width:0.5;" width="90.2686" x="1111.9375" y="2589.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2686" x="1118.9375" y="2611.3223">OpenRouter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5654" x="1145.7891" y="2628.9316">API</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1227.0718" x="5" y="150.3945"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="150.3945" y2="150.3945"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="153.3945" y2="153.3945"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="151.2681" x="542.9019" y="139.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133.6563" x="548.9019" y="156.7139">AI&#12481;&#12515;&#12483;&#12488;&#12497;&#12493;&#12523;&#38283;&#22987;</text><polygon fill="#1976D2" points="219,191.9219,229,195.9219,219,199.9219,223,195.9219" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="43" x2="225" y1="195.9219" y2="195.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2827" x="50" y="191.0654">AI&#12481;&#12515;&#12483;&#12488;&#12497;&#12493;&#12523;&#12434;&#38283;&#12367;</text><line style="stroke:#1976D2;stroke-width:1;" x1="241" x2="283" y1="242.625" y2="242.625"/><line style="stroke:#1976D2;stroke-width:1;" x1="283" x2="283" y1="242.625" y2="255.625"/><line style="stroke:#1976D2;stroke-width:1;" x1="242" x2="283" y1="255.625" y2="255.625"/><polygon fill="#1976D2" points="252,251.625,242,255.625,252,259.625,248,255.625" style="stroke:#1976D2;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="248" y="221.417">&#26082;&#23384;&#20250;&#35441;&#23653;&#27508;&#12434;&#35501;&#12415;&#36796;&#12415;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9263" x="248" y="237.7686">(localStorage)</text><path d="M246,268.625 L246,327.625 L507,327.625 L507,278.625 L497,268.625 L246,268.625" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M497,268.625 L497,278.625 L507,278.625 L497,268.625" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.5571" x="252" y="287.1201">context_code: &#29694;&#22312;&#12398;&#22259;&#34920;&#12467;&#12540;&#12489;&#65288;&#24517;&#38920;&#65289;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2808" x="252" y="303.4717">conversation_id: &#32153;&#32154;&#26178;&#12395;&#20351;&#29992;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.4727" x="252" y="319.8232">messages: &#20250;&#35441;&#23653;&#27508;&#37197;&#21015;</text><polygon fill="#1976D2" points="54,351.0313,44,355.0313,54,359.0313,50,355.0313" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="230" y1="355.0313" y2="355.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="350.1748">&#12497;&#12493;&#12523;&#34920;&#31034;</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1227.0718" x="5" y="384.207"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="384.207" y2="384.207"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="387.207" y2="387.207"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="111.4556" x="562.8081" y="373.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93.8438" x="568.8081" y="390.5264">&#12513;&#12483;&#12475;&#12540;&#12472;&#36865;&#20449;</text><polygon fill="#1976D2" points="219,425.7344,229,429.7344,219,433.7344,223,429.7344" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="43" x2="225" y1="429.7344" y2="429.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="50" y="424.8779">&#12513;&#12483;&#12475;&#12540;&#12472;&#20837;&#21147;&#12539;&#36865;&#20449;</text><polygon fill="#1976D2" points="420.0171,505.1406,430.0171,509.1406,420.0171,513.1406,424.0171,509.1406" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="241" x2="426.0171" y1="509.1406" y2="509.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8799" x="248" y="455.2295">POST /api/ai/chat</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2598" x="248" y="471.5811">{message, context_code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.2134" x="248" y="487.9326">chat_mode, conversation_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.8145" x="248" y="504.2842">messages[]}</text><path d="M8,521.1406 L68.1709,521.1406 L68.1709,529.4922 L58.1709,539.4922 L8,539.4922 L8,521.1406" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.5;"/><rect fill="none" height="1773.4844" style="stroke:#FBC02D;stroke-width:1.5;" width="1215.0718" x="8" y="521.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="23" y="535.6357">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.1416" x="83.1709" y="534.5596">[&#20837;&#21147;&#26908;&#35388;&#12456;&#12521;&#12540; 400]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="8" x2="1223.0718" y1="621.1953" y2="621.1953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133.6758" x="13" y="634.6143">[context_code&#26410;&#25351;&#23450; 400]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="8" x2="1223.0718" y1="713.7344" y2="713.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62.7666" x="13" y="727.1533">[&#26410;&#35469;&#35388; 401]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="8" x2="1223.0718" y1="806.2734" y2="806.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85.1104" x="13" y="819.6924">[AI&#27231;&#33021;&#28961;&#21177; 403]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="8" x2="1223.0718" y1="898.8125" y2="898.8125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.7012" x="13" y="912.2314">[&#27491;&#24120;&#20966;&#29702;]</text><polygon fill="#1976D2" points="252,567.8438,242,571.8438,252,575.8438,248,571.8438" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="246" x2="431.0171" y1="571.8438" y2="571.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7744" x="258" y="566.9873">400 VALIDATION_ERROR</text><polygon fill="#1976D2" points="54,598.1953,44,602.1953,54,606.1953,50,602.1953" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="230" y1="602.1953" y2="602.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="597.3389">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="247,660.3828,237,664.3828,247,668.3828,243,664.3828" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="664.3828" y2="664.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.2617" x="253" y="659.5264">400 CONTEXT_REQUIRED</text><polygon fill="#1976D2" points="54,690.7344,44,694.7344,54,698.7344,50,694.7344" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="694.7344" y2="694.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="689.8779">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="247,752.9219,237,756.9219,247,760.9219,243,756.9219" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="756.9219" y2="756.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.5781" x="253" y="752.0654">401 UNAUTHORIZED</text><polygon fill="#1976D2" points="54,783.2734,44,787.2734,54,791.2734,50,787.2734" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="787.2734" y2="787.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="60" y="782.417">&#12525;&#12464;&#12452;&#12531;&#30011;&#38754;&#12408;&#12522;&#12480;&#12452;&#12524;&#12463;&#12488;</text><polygon fill="#1976D2" points="247,845.4609,237,849.4609,247,853.4609,243,849.4609" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="849.4609" y2="849.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0171" x="253" y="844.6045">403 AI_FEATURE_DISABLED</text><polygon fill="#1976D2" points="54,875.8125,44,879.8125,54,883.8125,50,879.8125" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="879.8125" y2="879.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="874.9561">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="642.0068,954.3516,652.0068,958.3516,642.0068,962.3516,646.0068,958.3516" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="437.0171" x2="648.0068" y1="958.3516" y2="958.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.8188" x="444.0171" y="937.1436">chat(message, context_code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.3462" x="444.0171" y="953.4951">chat_mode, messages[])</text><polygon fill="#1976D2" points="838.5024,1001.0547,848.5024,1005.0547,838.5024,1009.0547,842.5024,1005.0547" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="664.0068" x2="844.5024" y1="1005.0547" y2="1005.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.4956" x="671.0068" y="983.8467">getPrompt("ai_chat_{mode}",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0425" x="671.0068" y="1000.1982">{context_code, messages[]})</text><path d="M865.5024,1018.0547 L865.5024,1109.0547 L1078.5024,1109.0547 L1078.5024,1028.0547 L1068.5024,1018.0547 L865.5024,1018.0547" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M1068.5024,1018.0547 L1068.5024,1028.0547 L1078.5024,1028.0547 L1068.5024,1018.0547" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9326" x="871.5024" y="1036.5498">chat_mode&#21029;&#12503;&#12525;&#12531;&#12503;&#12488;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.8799" x="871.5024" y="1052.9014">- ai_chat_review: &#12467;&#12540;&#12489;&#12524;&#12499;&#12517;&#12540;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.5508" x="871.5024" y="1069.2529">- ai_chat_improve: &#25913;&#21892;&#25552;&#26696;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5107" x="871.5024" y="1085.6045">- ai_chat_explain: &#12467;&#12540;&#12489;&#35500;&#26126;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7617" x="871.5024" y="1101.9561">- ai_chat_error: &#12456;&#12521;&#12540;&#23550;&#24540;</text><polygon fill="#1976D2" points="675.0068,1133.1641,665.0068,1137.1641,675.0068,1141.1641,671.0068,1137.1641" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="669.0068" x2="849.5024" y1="1137.1641" y2="1137.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="681.0068" y="1132.3076">&#12471;&#12473;&#12486;&#12512;&#12503;&#12525;&#12531;&#12503;&#12488;</text><polygon fill="#1976D2" points="964.4365,1163.5156,974.4365,1167.5156,964.4365,1171.5156,968.4365,1167.5156" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="664.0068" x2="970.4365" y1="1167.5156" y2="1167.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.0044" x="671.0068" y="1162.6592">streamChat(prompt, messages[])</text><polygon fill="#1976D2" points="1140.0718,1210.2188,1150.0718,1214.2188,1140.0718,1218.2188,1144.0718,1214.2188" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="986.4365" x2="1146.0718" y1="1214.2188" y2="1214.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.1689" x="993.4365" y="1193.0107">POST /chat/completions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.0127" x="993.4365" y="1209.3623">(stream: true)</text><path d="M27,1226.2188 L87.1709,1226.2188 L87.1709,1234.5703 L77.1709,1244.5703 L27,1244.5703 L27,1226.2188" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.5;"/><rect fill="none" height="1054.4063" style="stroke:#FBC02D;stroke-width:1.5;" width="1171.0718" x="27" y="1226.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="42" y="1240.7139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85.4541" x="102.1709" y="1239.6377">[&#12524;&#12540;&#12488;&#21046;&#38480; 429]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="27" x2="1198.0718" y1="1417.3281" y2="1417.3281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.8291" x="32" y="1430.7471">[&#12503;&#12525;&#12496;&#12452;&#12480;&#12540;&#12456;&#12521;&#12540; 500]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="27" x2="1198.0718" y1="1600.9219" y2="1600.9219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.4854" x="32" y="1614.3408">[&#12469;&#12540;&#12499;&#12473;&#21033;&#29992;&#19981;&#21487; 503]</text><line style="stroke:#FBC02D;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="27" x2="1198.0718" y1="1784.5156" y2="1784.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131.4307" x="32" y="1797.9346">[SSE&#12473;&#12488;&#12522;&#12540;&#12511;&#12531;&#12464;&#25104;&#21151;]</text><polygon fill="#1976D2" points="997.4365,1272.9219,987.4365,1276.9219,997.4365,1280.9219,993.4365,1276.9219" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="991.4365" x2="1151.0718" y1="1276.9219" y2="1276.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.6353" x="1003.4365" y="1272.0654">429 Too Many Requests</text><polygon fill="#1976D2" points="675.0068,1303.2734,665.0068,1307.2734,675.0068,1311.2734,671.0068,1307.2734" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="669.0068" x2="975.4365" y1="1307.2734" y2="1307.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.7954" x="681.0068" y="1302.417">RateLimitError</text><polygon fill="#1976D2" points="448.0171,1333.625,438.0171,1337.625,448.0171,1341.625,444.0171,1337.625" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="442.0171" x2="653.0068" y1="1337.625" y2="1337.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.4854" x="454.0171" y="1332.7686">429 RATE_LIMITED</text><polygon fill="#1976D2" points="247,1363.9766,237,1367.9766,247,1371.9766,243,1367.9766" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="1367.9766" y2="1367.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="253" y="1363.1201">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="54,1394.3281,44,1398.3281,54,1402.3281,50,1398.3281" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="1398.3281" y2="1398.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="60" y="1393.4717">&#20877;&#35430;&#34892;&#12434;&#20419;&#12377;</text><polygon fill="#1976D2" points="992.4365,1456.5156,982.4365,1460.5156,992.4365,1464.5156,988.4365,1460.5156" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="986.4365" x2="1156.0718" y1="1460.5156" y2="1460.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0635" x="998.4365" y="1455.6592">500 Internal Server Error</text><polygon fill="#1976D2" points="670.0068,1486.8672,660.0068,1490.8672,670.0068,1494.8672,666.0068,1490.8672" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="664.0068" x2="980.4365" y1="1490.8672" y2="1490.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.2954" x="676.0068" y="1486.0107">ProviderError</text><polygon fill="#1976D2" points="448.0171,1517.2188,438.0171,1521.2188,448.0171,1525.2188,444.0171,1521.2188" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="442.0171" x2="658.0068" y1="1521.2188" y2="1521.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.8926" x="454.0171" y="1516.3623">500 AI_PROVIDER_ERROR</text><polygon fill="#1976D2" points="247,1547.5703,237,1551.5703,247,1555.5703,243,1551.5703" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="1551.5703" y2="1551.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="253" y="1546.7139">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="54,1577.9219,44,1581.9219,54,1585.9219,50,1581.9219" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="1581.9219" y2="1581.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="1577.0654">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="992.4365,1640.1094,982.4365,1644.1094,992.4365,1648.1094,988.4365,1644.1094" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="986.4365" x2="1156.0718" y1="1644.1094" y2="1644.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.1943" x="998.4365" y="1639.2529">503 Service Unavailable</text><polygon fill="#1976D2" points="670.0068,1670.4609,660.0068,1674.4609,670.0068,1678.4609,666.0068,1674.4609" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="664.0068" x2="980.4365" y1="1674.4609" y2="1674.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.1689" x="676.0068" y="1669.6045">ServiceUnavailableError</text><polygon fill="#1976D2" points="448.0171,1700.8125,438.0171,1704.8125,448.0171,1708.8125,444.0171,1704.8125" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="442.0171" x2="658.0068" y1="1704.8125" y2="1704.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9897" x="454.0171" y="1699.9561">503 AI_SERVICE_UNAVAILABLE</text><polygon fill="#1976D2" points="247,1731.1641,237,1735.1641,247,1739.1641,243,1735.1641" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="1735.1641" y2="1735.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="253" y="1730.3076">&#12456;&#12521;&#12540;&#34920;&#31034;</text><polygon fill="#1976D2" points="54,1761.5156,44,1765.5156,54,1769.5156,50,1765.5156" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="1765.5156" y2="1765.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="60" y="1760.6592">&#12456;&#12521;&#12540;&#34920;&#31034;</text><path d="M220,1809.3516 L292.4346,1809.3516 L292.4346,1817.7031 L282.4346,1827.7031 L220,1827.7031 L220,1809.3516" fill="#FFFDE7" style="stroke:#FBC02D;stroke-width:1.5;"/><rect fill="none" height="193.1094" style="stroke:#FBC02D;stroke-width:1.5;" width="953.0718" x="220" y="1809.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="235" y="1823.8467">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="97.3994" x="307.4346" y="1822.7705">[SSE&#12481;&#12515;&#12531;&#12463;&#36865;&#20449;]</text><polygon fill="#1976D2" points="992.4365,1856.0547,982.4365,1860.0547,992.4365,1864.0547,988.4365,1860.0547" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="986.4365" x2="1156.0718" y1="1860.0547" y2="1860.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3989" x="998.4365" y="1855.1982">data: {delta}</text><polygon fill="#1976D2" points="670.0068,1886.4063,660.0068,1890.4063,670.0068,1894.4063,666.0068,1890.4063" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="664.0068" x2="980.4365" y1="1890.4063" y2="1890.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.6899" x="676.0068" y="1885.5498">chunk</text><polygon fill="#1976D2" points="448.0171,1916.7578,438.0171,1920.7578,448.0171,1924.7578,444.0171,1920.7578" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="442.0171" x2="658.0068" y1="1920.7578" y2="1920.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.6899" x="454.0171" y="1915.9014">chunk</text><polygon fill="#1976D2" points="247,1947.1094,237,1951.1094,247,1955.1094,243,1951.1094" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="1951.1094" y2="1951.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1353" x="253" y="1946.2529">SSE: data: {chunk}</text><line style="stroke:#1976D2;stroke-width:1;" x1="236" x2="278" y1="1981.4609" y2="1981.4609"/><line style="stroke:#1976D2;stroke-width:1;" x1="278" x2="278" y1="1981.4609" y2="1994.4609"/><line style="stroke:#1976D2;stroke-width:1;" x1="237" x2="278" y1="1994.4609" y2="1994.4609"/><polygon fill="#1976D2" points="247,1990.4609,237,1994.4609,247,1998.4609,243,1994.4609" style="stroke:#1976D2;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="243" y="1976.6045">&#22238;&#31572;&#12434;&#36880;&#27425;&#34920;&#31034;</text><polygon fill="#1976D2" points="992.4365,2034.8125,982.4365,2038.8125,992.4365,2042.8125,988.4365,2038.8125" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="986.4365" x2="1156.0718" y1="2038.8125" y2="2038.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3081" x="998.4365" y="2033.9561">data: [DONE]</text><polygon fill="#1976D2" points="670.0068,2065.1641,660.0068,2069.1641,670.0068,2073.1641,666.0068,2069.1641" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="664.0068" x2="980.4365" y1="2069.1641" y2="2069.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.3672" x="676.0068" y="2064.3076">streamComplete</text><polygon fill="#1976D2" points="448.0171,2095.5156,438.0171,2099.5156,448.0171,2103.5156,444.0171,2099.5156" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="442.0171" x2="658.0068" y1="2099.5156" y2="2099.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.4033" x="454.0171" y="2094.6592">AIResponse {content, usage}</text><polygon fill="#1976D2" points="247,2125.8672,237,2129.8672,247,2133.8672,243,2129.8672" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241" x2="436.0171" y1="2129.8672" y2="2129.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0107" x="253" y="2125.0107">SSE: event: complete</text><line style="stroke:#1976D2;stroke-width:1;" x1="236" x2="278" y1="2176.5703" y2="2176.5703"/><line style="stroke:#1976D2;stroke-width:1;" x1="278" x2="278" y1="2176.5703" y2="2189.5703"/><line style="stroke:#1976D2;stroke-width:1;" x1="237" x2="278" y1="2189.5703" y2="2189.5703"/><polygon fill="#1976D2" points="247,2185.5703,237,2189.5703,247,2193.5703,243,2189.5703" style="stroke:#1976D2;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="243" y="2155.3623">&#20250;&#35441;&#23653;&#27508;&#12434;&#26356;&#26032;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9263" x="243" y="2171.7139">(localStorage&#20445;&#23384;)</text><path d="M241,2202.5703 L241,2244.5703 L496,2244.5703 L496,2212.5703 L486,2202.5703 L241,2202.5703" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M486,2202.5703 L486,2212.5703 L496,2212.5703 L486,2202.5703" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="247" y="2221.0654">&#12524;&#12473;&#12509;&#12531;&#12473;&#12395;&#12467;&#12540;&#12489;&#25552;&#26696;&#12364;&#21547;&#12414;&#12428;&#12427;&#22580;&#21512;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="247" y="2237.417">&#12300;&#36969;&#29992;&#12301;&#12508;&#12479;&#12531;&#12434;&#34920;&#31034;</text><polygon fill="#1976D2" points="54,2268.625,44,2272.625,54,2276.625,50,2272.625" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="235" y1="2272.625" y2="2272.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="60" y="2267.7686">&#22238;&#31572;&#34920;&#31034;&#23436;&#20102;</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1227.0718" x="5" y="2329.8008"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="2329.8008" y2="2329.8008"/><line style="stroke:#000000;stroke-width:1;" x1="5" x2="1232.0718" y1="2332.8008" y2="2332.8008"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2;" width="165.0806" x="535.9956" y="2318.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147.4688" x="541.9956" y="2336.1201">&#20250;&#35441;&#32153;&#32154;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</text><polygon fill="#1976D2" points="219,2371.3281,229,2375.3281,219,2379.3281,223,2375.3281" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="43" x2="225" y1="2375.3281" y2="2375.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="50" y="2370.4717">&#36861;&#21152;&#12398;&#36074;&#21839;&#12434;&#20837;&#21147;</text><path d="M246,2388.3281 L246,2430.3281 L426,2430.3281 L426,2398.3281 L416,2388.3281 L246,2388.3281" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M416,2388.3281 L416,2398.3281 L426,2398.3281 L416,2388.3281" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.6689" x="252" y="2406.8232">conversation_id &#12434;&#32173;&#25345;&#12375;&#12390;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0845" x="252" y="2423.1748">messages[] &#12395;&#23653;&#27508;&#12434;&#36861;&#21152;</text><polygon fill="#1976D2" points="420.0171,2470.7344,430.0171,2474.7344,420.0171,2478.7344,424.0171,2474.7344" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;" x1="241" x2="426.0171" y1="2474.7344" y2="2474.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.8799" x="248" y="2453.5264">POST /api/ai/chat</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.6836" x="248" y="2469.8779">{&#32153;&#32154;&#12522;&#12463;&#12456;&#12473;&#12488;}</text><path d="M184.7949,2487.7344 L184.7949,2513.7344 L1207.7949,2513.7344 L1207.7949,2497.7344 L1197.7949,2487.7344 L184.7949,2487.7344" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M1197.7949,2487.7344 L1197.7949,2497.7344 L1207.7949,2497.7344 L1197.7949,2487.7344" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="620.5359" y="2506.2295">&#65288;&#19978;&#35352;&#12392;&#21516;&#27096;&#12398;&#12501;&#12525;&#12540;&#65289;</text><polygon fill="#1976D2" points="252,2537.4375,242,2541.4375,252,2545.4375,248,2541.4375" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="246" x2="431.0171" y1="2541.4375" y2="2541.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.9854" x="258" y="2536.5811">SSE: complete</text><polygon fill="#1976D2" points="54,2567.7891,44,2571.7891,54,2575.7891,50,2571.7891" style="stroke:#1976D2;stroke-width:1;"/><line style="stroke:#1976D2;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="48" x2="230" y1="2571.7891" y2="2571.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="60" y="2566.9326">&#32153;&#32154;&#22238;&#31572;&#34920;&#31034;</text><!--SRC=[rLXjJnDP5Fu-l-8k-q5992ZWkf9WKjgoEmbIjhHaisAQiLnnOfdfJWTqbv3GZc95MBgA8e8h-0eeeC5bGP3-cDkPba_-XJttJZlCJ5jaLyrcQKBQkUVjFi-vvzmpNyKLeQzVG2gMVqMgCe0vBd5PbEA28lIZ2qBqSfyY3qYzNZacA-ZhDZ_zs2JWlof6nRWWgMY8GwZLhU7_jgsfpKTNPAKNAyMd9qwV-iRNm0tRB2NmpmDOYc9cngCeyXMdB4BjuaNSBaguaYLg_sgPyxQJz5DSj6kr-kW75hu3yNYvNbkRpt_AMhPhjhLwZpVu795BieehRnxidFOskJTlcU1KKOrX5FQYfhe6vE69bYJQ4w9fH4iZalgBQ3iazOPewoIrfS-kSvmGLS50JJY1bHea913zmjafg6a5tE1XZtJKQOvelnDjWcWlQvbYKSofw-daW_A0YXEWNI_4nNf1h8zU4bHJnLfrAV5TM1aKezWKAlro2dKgSdzSjGiwdZY50t4iCK-ADoPYIMNoxeVLL7eaYDEbmN4jBQWA77ltRkalRg6M5ewZOAAwCoLiK7Cr7PAw3MeaEKdv40S5OB-49rTITjWnfX_hA_TpEmyAIs_qDy-CbRTWeh2yGfBPmkuE_0V0Ot9KY7K1lK8VhkKubbEAs7T9HV95opn2KLbIyLKr4fLxSJFAJ-xgSuiakGhPKLXO9AbrcZBQpGyxQJrxVMy-_M7dfgaqY9M4e8go515xGMzZ9h_nm9X9aUJBtFjiVceHfFfn8W7E4yt87kdUzGazFSrXgPVbkMs7iCMmkJyB6OWX__GTrulBWG4AYBP0aKnjixpUt1j9vh8BLQ1toUhNd-bZiqJRDfKE1jxALB3J6UWA8NiozqX3nOqUSu1vh4UYov5- -jsD62oMq3btVdZV-_wPu8x0WLqasX8ZO9AUMUqcqPRPuNqDV10jmtxUO1k2e_s2oMmNbYSAYpkK9o6c8dEVnjCvU6RPGqt7ZtEqA5hxgdDW1SkeszFE-pmXFj0HyGU3WI28srZOZnEXIloLF1NvS-XQ2EDO0ZiWC-QMZV4R-kg3mmJe3NI4_3-68a7_3s4-wFTzgG0XA1DIy7hYuA1Ee7279npwFX3aV_gd0MahG2j9FGKIyrFRUmyVa-GcutU4FNn5KcjGCWuArCCRIuyAsllyjGLzR0l2QJmusaRGYBJvFQ5mq1_nyLsUrlOlYEBA4trpKx_nF9yPTOLrPh_8WqrwPeuUua3j7vzQCBSViTKlg1FBBZXnD0Xmr8TLyz7H6a6CCCj3rFHm3JWQSZYsEHjsU7Cs7LXnLbddCe8_QmDw-XdHfYdhzD32btGp4wX3fM0KF2ZYAnJaOWscIQ3T8HeexhXanVwu8Wz2_JQcjlHxrup9ZB6GTidWg_6O84esWuNbLyRztznYS55IRDJgQxjwTWw4zWisSc5PvwAGLgFK5j56YJRlsgGpHShWSn3cxj1WEQ4gMEZtqXI9CzsgUL3Mtc6npA33YLNRAGprKR0UmxHQqykBwRUPNMUhkA4EZjX-7r2ygG4epOnFM4xhwOszcGngQZZDCJ9iCTLLnW54KKYMqLb1-WK5wJqteIQOhWrTMsnEgwNTksWBWbAxs2-gVfe2rQqL0QNhDhvSRP966FI4_95s_YmVOdN5MLbu-x6eLgJA2qpLybInGEcZ4uMbvuM5SRWUvR8QISwuJLXL2XASrgbIlcPOrHrXlRNKDK-QJUam184eug62A98GGtId8FeHM0z74XoPGH5k_f-38neaj83EOA2Rz_c3Lf__3uZwY7uPIwa_sT6vG-UOz19SDtER4_ha6cofyV0KDQ8ICc5961J4c70XXZ-LeE8tcyNFGnNhrbt-O3VlzKVWcj7juTjfn_vVyDNLvMST8Srg813toAo4HZgZZpqo6Ol9Sfm95YSaM5yhNiuHEXoblO8gDAEXNXnJXU4ohIg4HIyDI9UBmjK9S4XL0HM2js9WygKOAivm-kmV-PKfElgDP8nN2pOWeTCUDebDR-TyWGx_-K_Dt69pDHiV_iI4zV11d8X3zyJ8l4j9qAi7QASU_dSPoy35Ws07oAWIesrwgWgxQsWsPjyQzrwxnkLSzY6CrxMcbMg3C_rZztB8wuVcAnKOVgtBbNa78ybnFVEI97T92dhGBNt-hPv9bvH7nlUIj7QH4HXrvqWgowpSTcQ2TUUgtE1O4faQ-kfuxjteGKUHvXNx1xEpYOCvjzDfChLCMrzfZeJniSeSNSY-ryVcINAriBwitvs4UCqHiy84VS0h1_ii3CNaTdvZnHXFakGqIJwtlJauTnu1fljlE9ZlIgyEFZwZcpkbzGS6AQXUh1nLdhnPt39jsKNxnvpNH80hjpbMMBnFaejwPjnu0LzMYNQNNHpOvCqTcCLM-bPEtGeqcy7RoQxqIkHl]--></g></svg>