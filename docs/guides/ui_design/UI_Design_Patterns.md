# UI設計図表 パターン集

**作成日**: 2025-12-22
**バージョン**: 1.0
**対象**: ワイヤーフレーム（Excalidraw）、画面遷移図（PlantUML）
**総項目数**: Excalidrawパターン（EP-001〜EP-007）、遷移図パターン（SP-001〜SP-005）

---

## 概要

UI設計図表作成時に繰り返し使用するパターンを集めたドキュメント。
TD-015原則（低精度、手書き風、グレースケール）を前提としたテンプレート集。

---

## Part 1: Excalidraw ワイヤーフレームパターン

### EP-001: 画面フレーム構造

画面全体の基本構造パターン。

```
基本構造:
┌─────────────────────────────────────────────┐
│ [ヘッダー]                                   │
├─────────────────────────────────────────────┤
│                                             │
│ [メインコンテンツエリア]                     │
│                                             │
│                                             │
├─────────────────────────────────────────────┤
│ [フッター（オプション）]                     │
└─────────────────────────────────────────────┘
```

### Excalidraw設定

```json
{
  "type": "rectangle",
  "strokeColor": "#1e1e1e",
  "backgroundColor": "#ffffff",
  "fillStyle": "solid",
  "strokeWidth": 2,
  "roughness": 1
}
```

### バリエーション

| レイアウト | 用途 | 構成 |
|-----------|------|------|
| 単純 | ログイン、モーダル | ヘッダー + コンテンツ |
| サイドバー付き | ダッシュボード | ヘッダー + サイドバー + コンテンツ |
| 2カラム | 設定画面 | ヘッダー + 左メニュー + 右コンテンツ |

---

### EP-002: ヘッダーパターン

アプリケーションヘッダーの標準構造。

```
ヘッダー構造:
┌─────────────────────────────────────────────┐
│ [Logo]     [Nav]     [Nav]     [User Icon]  │
└─────────────────────────────────────────────┘
```

### 要素配置

| 位置 | 要素 | 備考 |
|------|------|------|
| 左 | ロゴ/アプリ名 | クリックでホーム |
| 中央 | 主要ナビゲーション | 3〜5項目程度 |
| 右 | ユーザーメニュー | アイコン + ドロップダウン |

### Excalidraw実装

```json
{
  "elements": [
    {"type": "rectangle", "height": 60, "backgroundColor": "#f5f5f5"},
    {"type": "text", "text": "PlantUML Studio", "fontSize": 20},
    {"type": "text", "text": "[User]", "fontSize": 16}
  ]
}
```

---

### EP-003: フォーム入力パターン

フォーム入力フィールドの標準構造。

```
フォームフィールド:
┌─────────────────────────────────┐
│ ラベル *                         │
├─────────────────────────────────┤
│ [入力フィールド]                │
├─────────────────────────────────┤
│ ヒントテキスト（オプション）     │
└─────────────────────────────────┘
```

### バリエーション

| タイプ | 用途 | 表現方法 |
|--------|------|---------|
| テキスト入力 | 名前、メール | 四角枠 + プレースホルダー |
| パスワード | 認証 | 四角枠 + ●●●● |
| テキストエリア | 説明文 | 大きめの四角枠 |
| セレクト | 選択 | 四角枠 + ▼ |
| チェックボックス | 複数選択 | □ + ラベル |
| ラジオボタン | 単一選択 | ○ + ラベル |

### 実装例（Excalidraw要素）

```
テキスト入力:
  roughness: 0（直線的に）
  strokeWidth: 1
  backgroundColor: #ffffff

ボタン:
  roughness: 1
  strokeWidth: 1
  backgroundColor: #e0e0e0
```

---

### EP-004: ボタンパターン

ボタンの階層と配置パターン。

```
ボタン階層:
┌──────────────┐  ┌──────────────┐  ┌──────────────┐
│ Primary      │  │ Secondary    │  │ Tertiary     │
│ (塗りつぶし)  │  │ (枠線のみ)   │  │ (テキスト)    │
└──────────────┘  └──────────────┘  └──────────────┘
```

### グレースケール表現

| 種類 | 背景色 | 枠線 | テキスト | 用途 |
|------|:------:|:----:|:-------:|------|
| Primary | #666666 | なし | 白 | 主要アクション |
| Secondary | 透明 | #666666 | #333333 | 補助アクション |
| Tertiary | なし | なし | #333333 | 最小限のアクション |
| Destructive | #999999 | なし | 白 | 削除等の危険操作 |

### 配置パターン

```
フォーム下部:
  [キャンセル]        [保存]
  (Secondary)       (Primary)

モーダルフッター:
  [キャンセル]  [確認]
  (左寄せ)     (右寄せ)

インライン:
  テキスト [リンク] テキスト
         (Tertiary)
```

---

### EP-005: カード/リストパターン

一覧表示の標準構造。

```
カード形式:
┌─────────────────────────────────┐
│ [アイコン] タイトル     [...]   │
├─────────────────────────────────┤
│ 説明テキスト                    │
│ 最終更新: 2025-12-22           │
└─────────────────────────────────┘

リスト形式:
┌──────┬────────────┬──────┬───────┐
│ [□]  │ タイトル   │ 日付 │ [操作] │
├──────┼────────────┼──────┼───────┤
│ [□]  │ タイトル   │ 日付 │ [操作] │
└──────┴────────────┴──────┴───────┘
```

### 使い分け

| 形式 | 用途 | 情報密度 |
|------|------|:--------:|
| カード | プロジェクト一覧、ダッシュボード | 低 |
| リスト | 図表一覧、ファイル管理 | 高 |
| テーブル | 管理画面、データ一覧 | 最高 |

---

### EP-006: モーダル/ダイアログパターン

モーダルの標準構造。

```
モーダル構造:
┌─────────────────────────────────────┐
│ [タイトル]                    [×]  │
├─────────────────────────────────────┤
│                                     │
│ [コンテンツエリア]                 │
│                                     │
├─────────────────────────────────────┤
│           [キャンセル] [確定]      │
└─────────────────────────────────────┘

背景オーバーレイ: #00000040（40%透明度）
```

### サイズバリエーション

| サイズ | 幅 | 用途 |
|--------|:--:|------|
| Small | 320px | 確認ダイアログ、シンプルなフォーム |
| Medium | 480px | 一般的なフォーム |
| Large | 640px | 複雑なフォーム、プレビュー |
| Full | 90vw | エディタ、詳細画面 |

---

### EP-007: エラー/フィードバックパターン

フィードバック表示の標準構造。

```
インラインエラー:
  ┌─────────────────────────────────┐
  │ メールアドレス *                 │
  ├─────────────────────────────────┤
  │ [                             ] │  ← 枠線を濃く
  ├─────────────────────────────────┤
  │ ! 有効なメールアドレスを入力     │  ← エラーテキスト
  └─────────────────────────────────┘

トースト通知:
  ┌─────────────────────────────────┐
  │ ✓ 保存しました                  │
  └─────────────────────────────────┘
  位置: 画面上部中央 or 右上
```

### フィードバックタイプ

| タイプ | 表現 | 用途 |
|--------|------|------|
| 成功 | ✓ + テキスト | 操作完了 |
| エラー | ! + テキスト | 入力エラー、処理失敗 |
| 警告 | ⚠ + テキスト | 注意喚起 |
| 情報 | i + テキスト | 補足情報 |

---

## Part 2: PlantUML 画面遷移図パターン

### SP-001: skinparam設定パターン

画面遷移図全体のスタイル設定。

```plantuml
@startuml
!option handwritten true

skinparam state {
    BackgroundColor #F5F5F5
    BorderColor #666666
    FontColor #333333
    FontSize 14
}

' カテゴリ別色分け（薄いグレースケール）
skinparam state<<auth>> {
    BackgroundColor #FFFDE7
}

skinparam state<<main>> {
    BackgroundColor #E3F2FD
}

skinparam state<<modal>> {
    BackgroundColor #E8F5E9
}

skinparam state<<admin>> {
    BackgroundColor #FCE4EC
}
@enduml
```

### 推奨設定値

| パラメータ | 推奨値 | 効果 |
|-----------|--------|------|
| `!option handwritten` | true | 手書き風（TD-015準拠） |
| `BackgroundColor` | #F5F5F5 | 薄いグレー背景 |
| `BorderColor` | #666666 | 中間グレー枠線 |

---

### SP-002: 状態（ノード）定義パターン

画面を状態として定義するパターン。

```plantuml
' 基本構文
state "画面名" as alias <<category>>

' 例
state "ログイン画面" as login <<auth>>
state "ダッシュボード" as dashboard <<main>>
state "新規プロジェクト作成" as new_project <<modal>>
```

### 命名規則

| 要素 | ルール | 例 |
|------|--------|-----|
| 表示名 | 日本語、簡潔 | "ログイン画面" |
| alias | スネークケース | login, dashboard |
| category | auth/main/modal/admin | <<auth>> |

---

### SP-003: 複合状態（グルーピング）パターン

関連画面をグループ化するパターン。

```plantuml
state "認証画面群" as auth_group {
    state "ログイン画面" as login <<auth>>
    state "新規登録画面" as signup <<auth>>
    state "パスワードリセット" as reset <<auth>>
}

state "メイン画面群" as main_group {
    state "ダッシュボード" as dashboard <<main>>
    state "プロジェクト一覧" as projects <<main>>
    state "エディタ画面" as editor <<main>>
}
```

### グルーピング基準

| グループ | 含む画面 | 色 |
|---------|---------|:--:|
| 認証画面群 | ログイン、登録、リセット | 黄系 |
| メイン画面群 | ダッシュボード、一覧、エディタ | 青系 |
| モーダル群 | 作成、編集、確認ダイアログ | 緑系 |
| 管理画面群 | ユーザー管理、設定 | 赤系 |

---

### SP-004: 遷移（矢印）パターン

画面間の遷移を定義するパターン。

```plantuml
' 基本遷移
login --> dashboard : ログイン成功

' 条件付き遷移
login --> signup : 新規登録リンク
login --> reset : パスワード忘れ

' 戻り遷移
editor --> projects : 戻る
```

### 遷移ラベル規則

| パターン | 用途 | 例 |
|---------|------|-----|
| 動詞形 | ユーザー操作 | ログイン、保存、削除 |
| リンク名 | ナビゲーション | 新規登録リンク |
| ボタン名 | ボタン押下 | キャンセル |

### 禁止パターン

```plantuml
' ❌ 結果を書かない
login --> dashboard : ログイン成功  ' ← 「成功」は冗長

' ✅ 操作のみ
login --> dashboard : ログイン
```

---

### SP-005: 開始点・終了点パターン

画面遷移の開始と終了を定義するパターン。

```plantuml
' 開始点（必須）
[*] --> login : 初回アクセス

' 終了点（複数可）
dashboard --> [*] : ログアウト
settings --> [*] : アカウント削除
```

### 開始点の使い分け

| シナリオ | 開始点 | 説明 |
|---------|--------|------|
| 未ログイン | → login | 認証が必要 |
| ログイン済み | → dashboard | セッションあり |
| ディープリンク | → 各画面 | URL直接アクセス |

---

## チェックリスト

### Excalidrawパターン

- [ ] EP-001: 画面フレーム構造を適用しているか
- [ ] EP-002: ヘッダーパターンが一貫しているか
- [ ] EP-003: フォーム入力が標準パターンに従っているか
- [ ] EP-004: ボタン階層が適切か
- [ ] EP-005: 一覧表示パターンが用途に合っているか
- [ ] EP-006: モーダル構造が標準に従っているか
- [ ] EP-007: エラー表示パターンを考慮しているか

### 画面遷移図パターン

- [ ] SP-001: skinparam設定を含めているか
- [ ] SP-002: 状態定義が命名規則に従っているか
- [ ] SP-003: 関連画面をグルーピングしているか
- [ ] SP-004: 遷移ラベルが動詞形か
- [ ] SP-005: 開始点・終了点を定義しているか

---

## 参照

- **UI設計図表開発憲法**: `docs/guides/ui_design/UI_Design_Constitution.md`
- **知見ベース**: `docs/guides/ui_design/UI_Design_Knowledge_Base.md`
- **設計パターンチェックリスト**: `docs/guides/ui_design/Design_Pattern_Checklist.md`
- **作成ガイドライン**: `docs/guides/ui_design/02_Authoring_Guide.md`

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2025-12-22 | 初版作成（EP-001〜EP-007, SP-001〜SP-005） |
