# CRUD表 改訂戦略（詳細版）

**作成日**: 2025-12-13
**ステータス**: 承認済み

---

## 1. ターゲット読者の定義

### 1.1 読者像

「スキルアップを目指している非エンジニア」を具体化：

| 属性 | 詳細 |
|------|------|
| **職種** | PM、ビジネスアナリスト、QA、デザイナー、技術文書担当 |
| **知識レベル** | IT基礎はある、プログラミング経験なし、DBは「Excelの親戚」程度の認識 |
| **動機** | 「簡単にして」ではなく「わかるようになりたい」 |
| **利用シーン** | 設計レビュー参加、影響範囲の質問、技術者との会話 |

### 1.2 重要な洞察

このターゲットは「内容を薄める」ことを求めていない。
**学習効果を最大化する構成**を求めている。

---

## 2. 現状ドキュメントの問題分析

### 2.1 問題1: 認知負荷が高すぎる導入部

**現状:**
```markdown
## 1. 概要
本ドキュメントは、PlantUML Studioの機能とエンティティの関係を
CRUD操作（Create/Read/Update/Delete）で表現する。
```

**問題点:**
- 「エンティティ」が未定義のまま登場
- 「CRUD操作」の説明が括弧内の英単語のみ
- 読者が「なぜ自分がこれを読む必要があるか」を理解できない

### 2.2 問題2: 略称地獄

**現状の表ヘッダー:**
```
| 機能ID | USR | SES | PRJ | DGM | TPL | LLM | PRM | FMA | CFG | LOG | LRN |
```

**認知的問題:**
- 11個の略称を記憶しながら表を読む必要がある
- 短期記憶の限界（マジカルナンバー7±2）を超えている
- 表を見るたびに凡例に戻る必要 → 認知的コストが累積

### 2.3 問題3: 詳細説明が技術者の速記

**現状:**
```
F-AUTH-01: User(R)でユーザー存在確認、User(U)でlast_sign_in_at更新、Session(C)で新規セッション作成
```

**問題点:**
- `last_sign_in_at`というフィールド名が突然登場
- 「セッション作成」が何を意味するか説明なし
- 具体的な操作イメージが湧かない

### 2.4 問題4: 整合性検証の価値が不明

**問題点:**
- 「なぜ整合性が重要か」の説明がない
- 読者は「✅だから何？」と感じる
- 整合性検証の実務的価値が伝わらない

---

## 3. 教育設計の原則

学習効果を最大化するため、以下の原則を適用：

| 原則 | 説明 | 適用方法 |
|------|------|---------|
| **スキーマ構築** | 新知識を既存知識に結合 | 「CRUD = Excelの行操作」等のアナロジー |
| **段階的開示** | 必要なときに必要な情報を | 折りたたみ、階層構造 |
| **具体→抽象→具体** | 例示から概念化、再び例示 | ユーザーストーリー → 定義 → 練習問題 |
| **アクティブリコール** | 読者に思考させる | セルフチェック、練習問題 |
| **スパイラル学習** | 同概念を異文脈で繰り返し | 導入→詳細→サマリで3回登場 |

---

## 4. 改訂アプローチ: デュアルトラック構造

```
┌─────────────────────────────────────────────────────────────┐
│                    メイントラック                           │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ・日本語で平易に説明                                 │   │
│  │ ・具体例・ユーザーストーリー                         │   │
│  │ ・図解・視覚的表現                                   │   │
│  │ ・略称を使わない、または日本語ラベル併記             │   │
│  └─────────────────────────────────────────────────────┘   │
│                          │                                  │
│                          ▼                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │            サブトラック（折りたたみ内）              │   │
│  │ ・技術的詳細                                         │   │
│  │ ・Repositoryメソッド対応                             │   │
│  │ ・フィールド名、API仕様                              │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

**効果:**
- 非エンジニア：メイントラックだけで理解完結
- スキルアップ志向：サブトラックで深掘り可能
- 技術者：両方読んで完全な情報を取得

---

## 5. 改訂後のドキュメント構成

```
📄 PlantUML Studio - CRUD表（改訂版）

1. はじめに【新設】
   1.1 この資料で得られること
   1.2 想定読了時間
   1.3 読み方ガイド（Level 1/2）

2. 30秒サマリ【新設】
   - 一言でいうと
   - 3つの重要ポイント
   - 全体像の図

3. 用語集【新設・大幅拡充】
   3.1 CRUDとは（図解付き）
   3.2 エンティティとは（日常例付き）
   3.3 PlantUML Studio固有の用語
   3.4 略称対応表

4. CRUD表の読み方【新設】
   4.1 表の構造（図解）
   4.2 3ステップ読解法
   4.3 練習問題（セルフチェック）

5. ユーザーストーリーで理解するCRUD【新設】
   5.1 ログインする
   5.2 図表を作成する
   5.3 AIに質問する
   5.4 プロジェクトを削除する（カスケード削除の例）

6. 機能×エンティティ CRUD表【現3章を改訂】
   - 日本語ラベル化
   - 各セクションに「このセクションのポイント」追加
   - 技術詳細は折りたたみ

7. サマリと分析【現4,5章を統合・強化】
   7.1 全体マトリクス（簡略版）
   7.2 操作分布グラフ
   7.3 エンティティ別インパクト分析

8. 整合性検証【現6章を改訂】
   8.1 なぜ整合性検証が必要か（新設）
   8.2 検証結果

9. 技術リファレンス【現7章を移動・折りたたみ】
   - Repositoryとの対応（興味ある人向け）

付録
   A. 逆引きガイド（○○を調べたいとき）
   B. よくある質問（FAQ）
   C. 用語索引
```

---

## 6. 改訂の原則

| # | 原則 | 具体的対応 |
|:-:|------|----------|
| 1 | **内容は削らない** | 技術情報は全て残す（折りたたみで整理） |
| 2 | **詳細度は落とさない** | むしろ説明を追加して理解度を上げる |
| 3 | **専門性は維持** | 正しい用語を使用（ただし説明を添える） |
| 4 | **学習効果を最大化** | 具体例、練習問題、段階的開示 |
| 5 | **デュアルトラック** | メイン（平易）とサブ（技術詳細）を分離 |

---

## 7. 絵文字・記号の使い分け（ハイブリッドアプローチ）

| 場所 | 使用方法 | 理由 |
|------|---------|------|
| CRUD表本体 | **C/R/U/D をそのまま使用** | 技術ドキュメントの正確さ維持、他文書との整合性 |
| 導入部・説明部 | **補助的に絵文字使用** | 理解の助け、視覚的アクセント |
| 凡例 | **両方表記**（例：「C = ✨作成」） | 対応付けを明示 |

---

## 8. 新設セクションの詳細設計

### 8.1 セクション1: はじめに

```markdown
## 1. はじめに

### 1.1 この資料で得られること

| できること | 実務での活用場面 |
|-----------|----------------|
| CRUDの概念を説明できる | 技術者との会話で困らない |
| 機能とデータの関係を把握できる | 「何に影響する？」に答えられる |
| CRUD表を読んで情報を探せる | 設計レビューに参加できる |
| 影響範囲を予測できる | 要件定義の精度が上がる |

### 1.2 想定読了時間

| 読み方 | 時間 | おすすめの人 |
|:------:|:----:|-------------|
| 速読 | 10分 | 概要だけ知りたい人 |
| 標準 | 30分 | しっかり理解したい人 |
| 精読 | 60分 | 技術詳細まで知りたい人 |

### 1.3 読み方ガイド

Level 1（概要把握）: 各セクションの冒頭 + 30秒サマリ
Level 2（詳細理解）: 全文 + 練習問題 + 技術詳細（折りたたみ）
```

### 8.2 セクション3: 用語集

```markdown
## 3. 用語集

### 3.1 CRUD（クラッド）とは

| 操作 | 英語 | 意味 | Excelでいうと | このシステムでの例 |
|:---:|------|------|--------------|------------------|
| C | Create | 作る | 新しい行を追加 | 図表を新規作成 |
| R | Read | 見る | セルの値を確認 | 図表一覧を表示 |
| U | Update | 直す | セルの値を変更 | 図表を編集・保存 |
| D | Delete | 消す | 行を削除 | 図表を削除 |

[図解: CRUD操作の位置づけ]
```

### 8.3 セクション5: ユーザーストーリー

4つのストーリーで具体例を提示：
1. ログインする → User(R,U), Session(C)
2. 図表を作成する → Project(R), Diagram(C), Template(R)
3. AIに質問する → LLMModel(R), Prompt(R), FMA(R), UsageLog(C)
4. プロジェクトを削除する → Project(D), Diagram(D) [カスケード削除]

---

## 9. 期待される効果

| 指標 | Before | After（目標） |
|------|--------|-------------|
| 初読での理解度 | 30%程度 | 70%以上 |
| 用語の定義率 | 2/15 | 15/15 |
| 具体例の数 | 0 | 4ストーリー + 練習問題 |
| 技術詳細のアクセシビリティ | 混在 | 折りたたみで分離 |

---

## 10. 変更履歴

| バージョン | 日付 | 変更内容 |
|:----------:|:----:|---------|
| v1.0 | 2025-12-13 | 初版作成（改訂戦略立案） |
