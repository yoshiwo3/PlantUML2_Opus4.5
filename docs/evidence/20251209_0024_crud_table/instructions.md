# CRUD表作成 - Instructions

**作成日時**: 2025-12-09 00:24
**作業者**: Claude Opus 4.5
**Evidence ID**: 20251209_0024_crud_table

---

## 目標

クラス図v1.6のエンティティと機能一覧表v1.5の機能をもとに、CRUD表（機能×エンティティ操作マトリクス）を作成する。

## コンテキスト

### 入力ドキュメント

| ドキュメント | バージョン | 内容 |
|-------------|-----------|------|
| クラス図 | v1.6 | 11エンティティ、9Repository、12サービス |
| 機能一覧表 | v1.5 | 32機能（5カテゴリ） |
| 設計図表集 | §9.1 | 下書きCRUD表（参考） |

### エンティティ一覧（クラス図v1.6より）

| # | エンティティ | 説明 | カテゴリ |
|:-:|-------------|------|---------|
| 1 | User | システム利用者 | 認証・ユーザー |
| 2 | Session | 認証セッション | 認証・ユーザー |
| 3 | Project | プロジェクト（図表グループ） | プロジェクト・図表 |
| 4 | Diagram | PlantUML/Excalidraw図表 | プロジェクト・図表 |
| 5 | Template | 図表テンプレート | プロジェクト・図表 |
| 6 | LLMModel | 登録済みLLMモデル | 管理機能 |
| 7 | Prompt | LLMプロンプトテンプレート | 管理機能 |
| 8 | FeatureModelAssignment | 機能別モデル割当 | 管理機能 |
| 9 | SystemConfig | システム設定 | 管理機能 |
| 10 | UsageLog | LLM使用量ログ | 管理機能 |
| 11 | LearningContent | 学習コンテンツ（Phase 2） | Phase 2 |

### 機能一覧（機能一覧表v1.5より）

| カテゴリ | 機能ID範囲 | 機能数 |
|---------|-----------|:------:|
| 認証 | F-AUTH-01〜02 | 2 |
| プロジェクト管理 | F-PRJ-01〜04 | 4 |
| 図表操作 | F-DGM-01〜11 | 11 |
| AI機能 | F-AI-01〜02 | 2 |
| 管理機能 | F-ADM-01〜13 | 13 |
| **合計** | | **32** |

## 実施内容

1. **CRUD表の構造設計**
   - 32機能×11エンティティのマトリクス構成
   - CRUD操作の凡例定義（C=Create, R=Read, U=Update, D=Delete）

2. **CRUD表本体の作成**
   - 各機能がどのエンティティに対してどの操作を行うか定義
   - 機能一覧表の「処理フロー」セクションを参照して操作を特定

3. **整合性検証**
   - クラス図のRepository/Serviceとの整合性確認
   - 機能一覧表のデータフロー対応との整合性確認

4. **正式版ドキュメント作成**
   - `docs/proposals/PlantUML_Studio_CRUD表_20251209.md` に保存

## 完了条件

- [ ] 32機能×11エンティティのCRUD表が完成
- [ ] 各機能の操作が明確に定義されている
- [ ] クラス図v1.6との整合性が確認できる
- [ ] 機能一覧表v1.5との整合性が確認できる
- [ ] 正式版として`docs/proposals/`に保存

## 参照ドキュメント

- `docs/proposals/PlantUML_Studio_クラス図_20251208.md`
- `docs/proposals/PlantUML_Studio_機能一覧表_20251208.md`
- `docs/design/PlantUML_Studio_設計図表_20251130.md` §9（下書き参考）
