# 02. ホーム

**対応UC**: UC 2-1, 3-10, 3-11
**画面遷移図参照**: `home`（v1.5 ホーム統合ビュー方式）

---

## 概要

ログイン後のメイン画面。**サイドメニュー + メインエリア（3ビュー切替）** で構成。

### 画面構成

```
┌─────────────────────────────────────────────┐
│  ヘッダー（ロゴ、ユーザーメニュー）          │
├────────────┬────────────────────────────────┤
│            │                                │
│  サイド    │   メインエリア                 │
│  メニュー  │   （3ビュー切替）              │
│            │                                │
│  ・オンボ  │   1. オンボーディング          │
│  ・PJ/図表 │   2. プロジェクト・図表        │
│  ・学習    │   3. 学習コンテンツ            │
│            │                                │
└────────────┴────────────────────────────────┘
```

### メインエリア3ビュー

| ビュー | 表示条件 | 機能 |
|--------|---------|------|
| **オンボーディング** | 初回/PJ 0件時 | ようこそ画面、最初のPJ作成ガイド |
| **プロジェクト・図表** | 通常状態 | プロジェクト一覧、最近の図表、グローバル検索（Ctrl+K） |
| **学習コンテンツ** | サイドメニュー選択時 | カテゴリ別一覧、専用検索、コンテンツ詳細 |

---

## 状態一覧

### プロジェクト・図表ビュー

| 状態 | ファイル | 説明 |
|------|----------|------|
| **通常** | `projects/default.excalidraw` | プロジェクト一覧表示 |
| 検索アクティブ | `projects/search_active.excalidraw` | グローバル検索ドロップダウン表示中 |

### オンボーディングビュー

| 状態 | ファイル | 説明 |
|------|----------|------|
| **初回** | `onboarding/welcome.excalidraw` | ようこそ画面 |
| ガイド | `onboarding/guide.excalidraw` | 最初のPJ作成ガイド |

### 学習コンテンツビュー

| 状態 | ファイル | 説明 |
|------|----------|------|
| **一覧** | `learning/list.excalidraw` | カテゴリ別コンテンツ一覧 |
| 検索 | `learning/search.excalidraw` | 専用検索（セマンティック検索） |
| 詳細 | `learning/detail.excalidraw` | コンテンツ詳細表示 |

---

## ワイヤーフレーム

### プロジェクト・図表ビュー（通常状態）

![[projects/default.excalidraw|800]]

### プロジェクト・図表ビュー（検索アクティブ）

![[projects/search_active.excalidraw|800]]

### オンボーディングビュー

![[onboarding/welcome.excalidraw|800]]

### 学習コンテンツビュー

![[learning/list.excalidraw|800]]

---

## UI要素

### ヘッダー（全ビュー共通）

| 要素 | 説明 |
|------|------|
| ロゴ | PlantUML Studio ロゴ |
| ユーザーアイコン | ユーザーメニュー |

### サイドメニュー（全ビュー共通）

| 要素 | 説明 |
|------|------|
| オンボーディング | 初回ガイド（PJ 0件時表示） |
| プロジェクト・図表 | 通常のメイン画面 |
| 学習コンテンツ | 学習コンテンツビュー（UC 3-10, 3-11） |
| 管理 | 管理画面へ（管理者のみ） |

### プロジェクト・図表ビュー

| 要素 | 説明 |
|------|------|
| 検索バー | グローバル検索（Ctrl+K） |
| 新規ボタン | "+ 新規プロジェクト" |
| プロジェクトカード | プロジェクト名、説明、更新日 |
| 最近の図表 | 直近使用した図表リスト |

### オンボーディングビュー

| 要素 | 説明 |
|------|------|
| ウェルカムメッセージ | PlantUML Studioへようこそ |
| 開始ボタン | "最初のプロジェクトを作成" |
| スキップリンク | "後で作成する" |

### 学習コンテンツビュー

| 要素 | 説明 |
|------|------|
| 検索バー | 専用検索（セマンティック検索） |
| カテゴリフィルター | PlantUML基礎、シーケンス図等 |
| コンテンツカード | タイトル、概要、タグ |
| コンテンツ詳細 | マークダウン表示、サンプルコード |

---

## 検索機能設計

詳細は [search_design/](../search_design/) を参照。

### 2種類の検索

| 検索 | 対象ビュー | 検索方式 | 対象 |
|------|-----------|---------|------|
| **グローバル検索** | プロジェクト・図表 | Storage API（メタデータ検索） | PJ名、図表名 |
| **専用検索** | 学習コンテンツ | Semantic Search（Embedding + pgvector） | コンテンツ全文 |

### グローバル検索（Ctrl+K）

| 項目 | 仕様 |
|------|------|
| 検索対象 | プロジェクト名、図表名 |
| 検索方式 | インクリメンタル検索（200ms debounce） |
| 結果表示 | ドロップダウン、タイプ別グループ化 |
| キーボード | Ctrl+K起動、↑↓選択、Enter開く、Esc閉じる |

### 専用検索（学習コンテンツ）

| 項目 | 仕様 |
|------|------|
| 検索対象 | コンテンツ全文（タイトル、本文、タグ） |
| 検索方式 | Hybrid Search（ベクトル + 全文検索） |
| 結果表示 | 関連度スコア付きリスト |

---

## 関連ドキュメント

- [検索機能設計書](../search_design/search_functionality_design.md)
- [シーケンス図 §2](../../../../proposals/08_シーケンス図_20251214.md)
- [画面遷移図 v1.5](../../../../proposals/diagrams/09_screen_transition/)
