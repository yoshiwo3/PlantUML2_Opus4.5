# 業務フロー図 3.4 認証フロー作成 指示書

## 作業概要

| 項目 | 内容 |
|------|------|
| **作業名** | 業務フロー図 3.4 認証フローの作成 |
| **作成日** | 2025-12-02 |
| **担当** | Claude Code |
| **ステータス** | 完了 |

---

## 目標

`docs/proposals/PlantUML_Studio_業務フロー図_20251201.md`に **3.4 認証フロー** を追加し、関連ドキュメントとの整合性を確保する。

---

## コンテキスト

### 背景
- 業務フロー図は3.1〜3.3まで完了済み
- ユースケース図を確認し、残り7フローを特定済み
- 3.4 認証フローを最優先で作成

### 参照ドキュメント

| ファイル | 参照内容 |
|---------|---------|
| `PlantUML_Studio_コンテキスト図_20251130.md` | Supabase Auth、Frontend Serviceの役割 |
| `PlantUML_Studio_ユースケース図_20251130.md` | UC 1-1, 1-2の詳細説明 |
| `PlantUML_Studio_シーケンス図_ログイン_20251130.md` | 詳細フロー参考（簡略化のベース） |

---

## 実施内容

### 1. 認証フロー作成

- 対応UC: 1-1 ログインする, 1-2 ログアウトする
- 詳細度: 業務フロー視点で簡略化
- アクター: エンドユーザー, Frontend Service, Supabase Auth, OAuthプロバイダー

### 2. 技術決定の反映

**重要決定**: Email/Password認証は不使用（OAuthのみ）

- 認証方式: OAuth（GitHub, Google）のみ
- 理由: ユーザー指定
- 影響: ユースケース図との整合性修正が必要

### 3. 整合性修正

- ユースケース図からEmail/Password関連記述を削除

---

## 完了条件

| # | 条件 | 状態 |
|---|------|:----:|
| 1 | 3.4 認証フローのPlantUMLが正しく記述されている | ✅ |
| 2 | フロー説明テーブルが作成されている | ✅ |
| 3 | 図表構成テーブルに3.4が追加されている | ✅ |
| 4 | アクター・サービス一覧が更新されている | ✅ |
| 5 | ユースケース図との整合性が確保されている | ✅ |
| 6 | CLAUDE.mdの進捗が更新されている | ✅ |
| 7 | Serena memoryに技術決定が記録されている | ✅ |
| 8 | Gitコミットされている | ✅ |

---

## 成果物

| 成果物 | パス |
|--------|------|
| 業務フロー図（更新） | `docs/proposals/PlantUML_Studio_業務フロー図_20251201.md` |
| ユースケース図（修正） | `docs/proposals/PlantUML_Studio_ユースケース図_20251130.md` |
| Serena Memory | `.serena/memories/session_20251202_auth_flow.md` |
