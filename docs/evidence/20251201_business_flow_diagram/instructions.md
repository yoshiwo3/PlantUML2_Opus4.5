# 業務フロー図作成 作業指示書

## 作業概要

| 項目 | 内容 |
|------|------|
| **作業名** | PlantUML Studio 業務フロー図の正式版作成 |
| **作成日** | 2025-12-01 |
| **担当** | Claude Code (Opus 4.5) |
| **ステータス** | 完了 |

## 目標

PRD作成に必要な業務フロー図（Phase 2の最初の図表）を正式版として`docs/proposals/`に作成する。

## コンテキスト

- 下書き参照: `docs/design/PlantUML_Studio_設計図表_20251130.md` セクション3.1-3.4
- 依存関係: コンテキスト図(✅)、ユースケース図(✅) に続く3番目の図表
- 既存正式版との整合性確保が必要

## 実施内容

### 1. 業務フロー図の作成（3つのフロー）

1. **3.1 PlantUML 図表作成フロー**
   - エディタ入力からプレビュー表示までの基本フロー
   - AI自動修正ループ（最大5回リトライ）
   - 入力待機処理（500msデバウンス）

2. **3.2 PlantUML AI支援フロー**
   - AIチャットによる図表生成支援
   - 3.1と同じエラー修正ループを組み込み
   - Monaco Editorでの編集統合

3. **3.3 Excalidraw ワイヤーフレーム作成フロー**
   - AI生成またはGUI手動作成
   - イテレーティブ修正フロー（GUI編集 + AIチャット）
   - ファイル添付機能対応

### 2. 整合性確認

- 既存正式版（コンテキスト図、ユースケース図、シーケンス図）との用語統一
- 技術仕様の遵守（node-plantuml内部、Monaco Editor、API Routes経由）

### 3. ドキュメント構成

- PlantUMLコードブロック
- フロー説明テーブル
- AIチャット機能要件
- マイクロサービス一覧
- レビュー観点

## 完了条件

- [ ] 3つの業務フローがPlantUML構文で正しく記述されている
- [ ] 説明文とフロー図の整合性が取れている
- [ ] 既存正式版との用語・仕様が統一されている
- [ ] `docs/proposals/PlantUML_Studio_業務フロー図_20251201.md`として保存されている
- [ ] CLAUDE.mdの進捗が更新されている

## 参照ドキュメント

- `docs/design/PlantUML_Studio_設計図表_20251130.md` (下書き)
- `docs/proposals/PlantUML_Studio_コンテキスト図_20251130.md` (正式版)
- `docs/proposals/PlantUML_Studio_ユースケース図_20251130.md` (正式版)
- `docs/proposals/PlantUML_Studio_シーケンス図_ログイン_20251130.md` (正式版)
