# 自動保存機能削除メモ

## 完了日: 2025-12-06

## 背景
TD-006（MVPデータ保存設計）でStorage Only構成を決定した結果、30秒間隔の自動保存機能が実現困難と判明。

### 問題点
- Storage Only構成では30秒ごとにファイル上書き
- バージョン履歴なし（DBなし）でデータ損失リスク
- ユーザーの意図しない上書きが発生する可能性

### 決定事項
- **MVPは手動保存のみ**（Ctrl+S/保存ボタン）
- 自動保存はv3（DB導入後）で検討

## 修正内容（全13箇所）

### 業務フロー図（8箇所）
1. 概要図: 自動保存caseを削除、「手動保存」→「保存」に変更
2. PlantUML保存フロー: if/else分岐を削除、手動保存のみに
3. Excalidraw保存フロー: if/else分岐を削除、手動保存のみに
4. 保存機能テーブル: 「自動保存」行を削除
5. バージョン管理テーブル: 「自動保存時」を削除
6. 復元フロー: 「自動保存」→「バージョンとして保存」に表現変更
7. 復元フローテーブル: 同上
8. 整合性チェックポイント: 「手動/自動保存」→「手動保存」に修正

### ユースケース図（2箇所）
1. note内: `自動: 30秒間隔` → 削除
2. UC 3-5テーブル: `/ 自動保存（30秒）` → 削除

### ~~開発ステップ詳細化計画（1箇所）~~ ※2025-12-13廃盤
~~1. Day 4タスク: `ドラフト自動保存（30秒）` → `未保存警告（ページ離脱時）`~~

### active_context.md（2箇所）
1. 3.6概要: `自動保存（30秒）` → `手動保存のみ ※TD-006`
2. 3.7概要: `自動保存` → `バージョンとして保存`

## MVPの保存仕様

| 項目 | 仕様 |
|------|------|
| **保存方法** | Ctrl+S または保存ボタン（手動保存のみ） |
| **自動保存** | なし（Storage Only構成では実装困難） |
| **未保存警告** | ページ離脱時に警告表示（代替機能） |
| **v3での拡張** | DB導入後に自動保存を検討可能 |

## 構文検証結果
全修正後のPlantUML図表の構文検証完了、エラーなし。

## 関連ドキュメント
- TD-006: MVPデータ保存設計（Storage Only）
- `docs/proposals/PlantUML_Studio_業務フロー図_20251201.md`
- `docs/proposals/PlantUML_Studio_ユースケース図_20251130.md`
