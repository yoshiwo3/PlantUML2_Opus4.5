# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

PlantUML Studio - æ¬¡ä¸–ä»£PlantUMLå›³è¡¨ä½œæˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¼ç”»ãƒ»èª¿æŸ»ãƒªãƒã‚¸ãƒˆãƒªã€‚ç¾åœ¨ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸­å¿ƒã®ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ`project_type: documentation`ï¼‰ã€‚

## ç¾åœ¨ã®ç›®æ¨™

**`docs/design/PlantUML_Studio_è¨­è¨ˆå›³è¡¨_20251130.md`ã‚’ã‚‚ã¨ã«é«˜å“è³ªãªãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè¦ä»¶å®šç¾©æ›¸ï¼ˆPRDï¼‰ã‚’ä½œæˆã™ã‚‹**

---

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«

### 2ã¤ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé ˜åŸŸ

| å ´æ‰€ | å½¹å‰² | çŠ¶æ…‹ | PRDã¸ã®æ¡ç”¨ |
|------|------|------|:-----------:|
| `docs/design/PlantUML_Studio_è¨­è¨ˆå›³è¡¨_20251130.md` | **ä¸‹æ›¸ããƒ»ãŸãŸãå°** | æœªãƒ¬ãƒ“ãƒ¥ãƒ¼ã€æ•´åˆæ€§æœªç¢ºèª | âŒ ä¸å¯ |
| `docs/proposals/` | **ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿æ­£å¼ç‰ˆ** | ãƒãƒ£ãƒƒãƒˆã§æ¤œè¨¼ãƒ»ç¢ºèªæ¸ˆã¿ | âœ… æ¡ç”¨ |

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
[ä¸‹æ›¸ã]                              [æ­£å¼ç‰ˆ]
docs/design/è¨­è¨ˆå›³è¡¨é›†.md        docs/proposals/ã€‡ã€‡å›³_20251130.md
         â”‚                                  â†‘
         â”‚ å‚è€ƒã«ã™ã‚‹                        â”‚
         â†“                                  â”‚
    ãƒãƒ£ãƒƒãƒˆã§å¯¾è©± â”€â”€â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ä¿®æ­£ â”€â”€â†’ æ­£å¼ç‰ˆã¨ã—ã¦ä¿å­˜
         â”‚                                  â”‚
         â”‚ Context7ç­‰ã§ä»•æ§˜æ¤œè¨¼              â”‚
         â†“                                  â†“
                                      PRDã«æ¡ç”¨
```

### é‡è¦ãªæ³¨æ„ç‚¹

- **è¨­è¨ˆå›³è¡¨é›†ï¼ˆdesign/ï¼‰ã¯ãã®ã¾ã¾PRDã«ã¯ä½¿ãˆãªã„** - ã€Œã¨ã‚Šã‚ãˆãšå½¢ã«ã—ãŸã€çŠ¶æ…‹
- **æ­£å¼ç‰ˆï¼ˆproposals/ï¼‰ã®ã¿ãŒPRDã®æ§‹æˆè¦ç´ ** - ãƒãƒ£ãƒƒãƒˆã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ¤œè¨¼æ¸ˆã¿
- å›³è¡¨ä½œæˆæ™‚ã¯å¿…ãšä¸‹æ›¸ãã‚’å‚è€ƒã«ã—ã¤ã¤ã€å¯¾è©±ã‚’é€šã˜ã¦æ­£å¼ç‰ˆã‚’ä½œæˆã™ã‚‹

---

## ä½œæ¥­æ™‚ã«æ„è­˜ã™ã¹ãã“ã¨

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæ¥­ã™ã‚‹éš›ã€ä»¥ä¸‹ã®6ç‚¹ã‚’å¸¸ã«æ„è­˜ã™ã‚‹ã€‚

### 1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½ç½®ã¥ã‘ã‚’ç†è§£ã™ã‚‹

| ã‚„ã‚‹ã“ã¨ | ã‚„ã‚‰ãªã„ã“ã¨ |
|---------|-------------|
| `docs/proposals/`ã«æ­£å¼ç‰ˆã‚’ä½œæˆ | `docs/design/`ã‚’ãã®ã¾ã¾ä½¿ã† |
| ãƒãƒ£ãƒƒãƒˆã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ¤œè¨¼ã—ã¦ã‹ã‚‰ä¿å­˜ | ä¸‹æ›¸ãã‚’ã€Œå®Œäº†ã€ã¨å ±å‘Šã™ã‚‹ |

### 2. ç¢ºèªã›ãšã«å ±å‘Šã—ãªã„

- ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ã‚’ä¸»å¼µã™ã‚‹å‰ã«**å®Ÿéš›ã«èª­ã‚€**
- ã€Œå®Œäº†ã€ã¨è¨€ã†å‰ã«**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãƒ»è¡Œç•ªå·ã‚’ç¢ºèª**
- æ¨æ¸¬ã‚„è¨˜æ†¶ã«é ¼ã‚‰ãªã„
- grepæ¤œç´¢ç­‰ã§å®Ÿéš›ã®å†…å®¹ã‚’æ¤œè¨¼ã™ã‚‹

### 3. ç›®çš„ã‚’ç†è§£ã™ã‚‹

- **æœ€çµ‚ã‚´ãƒ¼ãƒ«**: PRDï¼ˆãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè¦ä»¶å®šç¾©æ›¸ï¼‰ã®ä½œæˆ
- å›³è¡¨ä½œæˆã¯æ‰‹æ®µã§ã‚ã‚Šã€ç›®çš„ã§ã¯ãªã„
- è¨€ã‚ã‚ŒãŸã“ã¨ã ã‘ã§ãªãã€**ãªãœãã‚Œã‚’ã‚„ã‚‹ã®ã‹**ã‚’è€ƒãˆã‚‹
- **ã‚ã‹ã‚‰ãªã‘ã‚Œã°è³ªå•ã™ã‚‹** - ç†è§£ã›ãšã«ä½œæ¥­ã‚’é€²ã‚ãªã„

### 4. å¯¾è©±ã‚’é€šã˜ã¦ä½œæˆã™ã‚‹

```
ä¸‹æ›¸ãå‚ç…§ â†’ ãƒãƒ£ãƒƒãƒˆã§å¯¾è©± â†’ Context7ç­‰ã§æ¤œè¨¼ â†’ æ­£å¼ç‰ˆä¿å­˜
```

ä¸€æ–¹çš„ã«ä½œæˆã›ãšã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ç¢ºèªã‚’çµŒã¦æ­£å¼ç‰ˆã¨ã™ã‚‹ã€‚

### 5. æŠ€è¡“ä»•æ§˜ã‚’å®ˆã‚‹

| é …ç›® | æ­£ã—ã„ä»•æ§˜ | èª¤ã£ãŸä»•æ§˜ï¼ˆä½¿ç”¨ç¦æ­¢ï¼‰ |
|------|-----------|---------------------|
| PlantUMLãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | node-plantuml + Java 17 + Graphvizï¼ˆå†…éƒ¨ï¼‰ | PlantUML Server APIï¼ˆå¤–éƒ¨ï¼‰ |
| ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ | Monaco Editor | CodeMirror |
| æ¤œè¨¼å‡¦ç† | API Routes (`/api/validate`) + ValidationService | å¤–éƒ¨APIç›´æ¥å‘¼ã³å‡ºã— |

### 6. æ—¢å­˜ã®æ­£å¼ç‰ˆå›³è¡¨ã¨ã®æ•´åˆæ€§ã‚’ä¿ã¤

æ–°ã—ã„å›³è¡¨ã‚’ä½œæˆã™ã‚‹éš›ã¯ã€`docs/proposals/`å†…ã®æ—¢å­˜å›³è¡¨ã¨**çŸ›ç›¾ã®ãªã„**å†…å®¹ã«ã™ã‚‹ã€‚

**æ•´åˆæ€§ç¢ºèªå¯¾è±¡ï¼ˆæ—¢å­˜ã®æ­£å¼ç‰ˆï¼‰:**

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `PlantUML_Studio_ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³_20251130.md` | ã‚·ã‚¹ãƒ†ãƒ å¢ƒç•Œã€å¤–éƒ¨ã‚¢ã‚¯ã‚¿ãƒ¼ |
| `PlantUML_Studio_ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³_20251130.md` | æ©Ÿèƒ½ä¸€è¦§ã€ã‚¢ã‚¯ã‚¿ãƒ¼å®šç¾© |
| `PlantUML_Studio_ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³_ãƒ­ã‚°ã‚¤ãƒ³_20251130.md` | èªè¨¼ãƒ•ãƒ­ãƒ¼ |
| `PlantUML_Studio_æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³_20251201.md` | å›³è¡¨ä½œæˆãƒ»AIæ”¯æ´ãƒ»Excalidrawãƒ»èªè¨¼ãƒ•ãƒ­ãƒ¼ |

**ç¢ºèªã™ã¹ãæ•´åˆæ€§:**
- ã‚¢ã‚¯ã‚¿ãƒ¼åãƒ»ã‚·ã‚¹ãƒ†ãƒ åã®çµ±ä¸€
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåãƒ»ã‚µãƒ¼ãƒ“ã‚¹åã®ä¸€è‡´
- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãƒ»å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®ä¸€è²«æ€§
- ç”¨èªãƒ»å‘½åè¦å‰‡ã®çµ±ä¸€

---

## PRDä½œæˆã«å¿…è¦ãªå›³è¡¨ãƒ»ä¸€è¦§è¡¨

PRDã¯ä»¥ä¸‹ã®å›³è¡¨ãƒ»ä¸€è¦§è¡¨ã§æ§‹æˆã•ã‚Œã‚‹ã€‚å›³è¡¨ä½œæˆè‡ªä½“ãŒç›®çš„ã§ã¯ãªãã€**PRDå®ŒæˆãŒæœ€çµ‚ã‚´ãƒ¼ãƒ«**ã§ã‚ã‚‹ã€‚

### ä½œæˆé †åºï¼ˆä¾å­˜é–¢ä¿‚ã«åŸºã¥ãï¼‰

å›³è¡¨ã«ã¯ä¾å­˜é–¢ä¿‚ãŒã‚ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®é †åºã§ä½œæˆãƒ»ç¢ºèªã™ã‚‹ï¼š

```
Phase 1: ã‚¹ã‚³ãƒ¼ãƒ—å®šç¾©
  â‘  ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³ â†’ ã‚·ã‚¹ãƒ†ãƒ å¢ƒç•Œã‚’æ˜ç¢ºåŒ–
  â‘¡ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ â†’ æ©Ÿèƒ½è¦ä»¶ã‚’å®šç¾©

Phase 2: ãƒ—ãƒ­ã‚»ã‚¹å®šç¾©
  â‘¢ æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ â†’ æ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹ã‚’å¯è¦–åŒ–
  â‘£ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ï¼ˆDFDï¼‰ â†’ ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’å®šç¾©
  â‘¤ æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãƒ»DFDå¯¾æ¯”è¡¨ â†’ â‘¢â‘£ã®ç´ä»˜ã‘ãƒ»ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

Phase 3: ãƒ‡ãƒ¼ã‚¿ãƒ»æ§‹é€ å®šç¾©
  â‘¥ ã‚¯ãƒ©ã‚¹å›³ â†’ ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
  â‘¦ CRUDè¡¨ â†’ æ©Ÿèƒ½Ã—ãƒ‡ãƒ¼ã‚¿æ“ä½œã®ç¶²ç¾…æ€§ç¢ºèª

Phase 4: æŒ¯ã‚‹èˆã„è©³ç´°åŒ–
  â‘§ ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ â†’ ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°
  â‘¨ ç”»é¢é·ç§»å›³ â†’ ç”»é¢ãƒ•ãƒ­ãƒ¼å®šç¾©
  â‘© ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ  â†’ UI/UXè¦–è¦šåŒ–

Phase 5: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  â‘ª ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³ â†’ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
  â‘« å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¸€è¦§ â†’ å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº

Phase 6: å“è³ªãƒ»æ¨©é™å®šç¾©
  â‘¬ éæ©Ÿèƒ½è¦ä»¶ä¸€è¦§è¡¨ â†’ å“è³ªç‰¹æ€§ï¼ˆIPAæº–æ‹ ï¼‰
  â‘­ ã‚¢ã‚¯ã‚¿ãƒ¼æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹ â†’ ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
```

### å›³è¡¨ä¸€è¦§ã¨ç¾åœ¨ã®çŠ¶æ³ï¼ˆ2025-12-02 æ›´æ–°ï¼‰

**è¨­è¨ˆå›³è¡¨é›†ã®å®Ÿéš›ã®æ§‹æˆï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³1-11ï¼‰:**
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ï¼ˆ3.1-3.4ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ï¼ˆ4.1 ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³ã€4.2 ãƒ¬ãƒ™ãƒ«1ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5: ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ5.1-5.4ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³6: ç”»é¢é·ç§»å›³
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³7: ã‚¯ãƒ©ã‚¹å›³ï¼ˆ7.1 ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã€7.2 ã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³8: æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³å¯¾æ¯”è¡¨
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³9: CRUDè¡¨ï¼ˆ9.1 æ©Ÿèƒ½Ã—ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€9.2 ã‚¢ã‚¯ã‚¿ãƒ¼Ã—æ©Ÿèƒ½æ¨©é™ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³10: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼ˆ10.1-10.5ï¼‰
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³11: å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¸€è¦§ï¼ˆ11.1-11.4ï¼‰

| é †åº | å›³è¡¨ | æ­£å¼ç‰ˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆproposalsï¼‰ | ä¸‹æ›¸ãå‚ç…§ | çŠ¶æ³ |
|:----:|------|----------------------------|:----------:|:----:|
| â‘  | **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³** | `docs/proposals/PlantUML_Studio_ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³_20251130.md` | Â§4.1 | âœ… å®Œäº† |
| â‘¡ | **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³** | `docs/proposals/PlantUML_Studio_ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³_20251130.md` | Â§2 | âœ… å®Œäº† |
| â‘¢ | **æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³** | `docs/proposals/PlantUML_Studio_æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³_20251201.md` | Â§3.1-3.4 | ğŸŸ¡ ä¸€éƒ¨å®Œäº† (4/10) |
| â‘£ | **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ï¼ˆDFDï¼‰** | æœªä½œæˆ | Â§4.1-4.2 | ğŸ”´ è¦ä½œæˆ |
| â‘¤ | **æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãƒ»DFDå¯¾æ¯”è¡¨** | æœªä½œæˆ | Â§8 | ğŸ”´ è¦ä½œæˆ |
| â‘¥ | **ã‚¯ãƒ©ã‚¹å›³** | æœªä½œæˆ | Â§7.1-7.2 | ğŸ”´ è¦ä½œæˆ |
| â‘¦ | **CRUDè¡¨** | æœªä½œæˆ | Â§9.1 | ğŸ”´ è¦ä½œæˆ |
| â‘§ | **ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³** | | Â§10.1-10.5 | |
|    |  â”” ãƒ­ã‚°ã‚¤ãƒ³ | `docs/proposals/PlantUML_Studio_ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³_ãƒ­ã‚°ã‚¤ãƒ³_20251130.md` | - | âœ… å®Œäº† |
|    |  â”” ç·¨é›†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | æœªä½œæˆ | - | ğŸ”´ è¦ä½œæˆ |
|    |  â”” ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | æœªä½œæˆ | - | ğŸ”´ è¦ä½œæˆ |
|    |  â”” ä¿å­˜èª­è¾¼ | æœªä½œæˆ | - | ğŸ”´ è¦ä½œæˆ |
|    |  â”” å…±æœ‰ | æœªä½œæˆ | - | ğŸ”´ è¦ä½œæˆ |
| â‘¨ | **ç”»é¢é·ç§»å›³** | æœªä½œæˆ | Â§6 | ğŸ”´ è¦ä½œæˆ |
| â‘© | **ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ** | æœªä½œæˆ | Â§5.1-5.4 | ğŸ”´ è¦ä½œæˆ |
| â‘ª | **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³** | æœªä½œæˆ | Â§1 | ğŸ”´ è¦ä½œæˆ |
| â‘« | **å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¸€è¦§** | æœªä½œæˆ | Â§11.1-11.4 | ğŸ”´ è¦ä½œæˆ |
| â‘¬ | **éæ©Ÿèƒ½è¦ä»¶ä¸€è¦§è¡¨** | æœªä½œæˆ | ãªã— | ğŸ”´ è¦ä½œæˆ |
| â‘­ | **ã‚¢ã‚¯ã‚¿ãƒ¼æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹** | æœªä½œæˆ | Â§9.2 | ğŸ”´ è¦ä½œæˆ |

**é€²æ—: 3/14 å®Œäº†ï¼ˆ21%ï¼‰** â€»æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã¯ä¸€éƒ¨å®Œäº†ã®ãŸã‚ã‚«ã‚¦ãƒ³ãƒˆå¤–

â€» æ­£å¼ç‰ˆ = `docs/proposals/`å†…ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
â€» ä¸‹æ›¸ãå‚ç…§ = `docs/design/PlantUML_Studio_è¨­è¨ˆå›³è¡¨_20251130.md`ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆæœªãƒ¬ãƒ“ãƒ¥ãƒ¼ã€å‚è€ƒç¨‹åº¦ï¼‰

### â‘¢ æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ è©³ç´°é€²æ—ï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å¯¾å¿œï¼‰

æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã¯ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ï¼ˆ23UCï¼‰ã«å¯¾å¿œã—ã¦ä½œæˆã™ã‚‹ã€‚

| # | æ¥­å‹™ãƒ•ãƒ­ãƒ¼å | å¯¾å¿œUC | å„ªå…ˆåº¦ | çŠ¶æ³ |
|---|-------------|--------|:------:|:----:|
| 3.1 | **PlantUML å›³è¡¨ä½œæˆãƒ•ãƒ­ãƒ¼** | 3-1ã€œ3-4 (ä½œæˆãƒ»ç·¨é›†ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼) | MVP | âœ… å®Œäº† |
| 3.2 | **PlantUML AIæ”¯æ´ãƒ•ãƒ­ãƒ¼** | 4-1, 4-2 (Question-Start, AIãƒãƒ£ãƒƒãƒˆ) | MVP | âœ… å®Œäº† |
| 3.3 | **Excalidraw ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ä½œæˆãƒ•ãƒ­ãƒ¼** | 3-1, 3-3 (Excalidrawç‰ˆ) | MVP | âœ… å®Œäº† |
| 3.4 | **èªè¨¼ãƒ•ãƒ­ãƒ¼** | 1-1, 1-2 (ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ) | MVP | âœ… å®Œäº† |
| 3.5 | **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ•ãƒ­ãƒ¼** | 2-1ã€œ2-3 (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆCRUD) | MVP | ğŸ”´ è¦ä½œæˆ |
| 3.6 | **ä¿å­˜ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼** | 3-5, 3-6 (ä¿å­˜ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ) | MVP | ğŸ”´ è¦ä½œæˆ |
| 3.7 | **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ•ãƒ­ãƒ¼** | 3-7, 3-8 (å±¥æ­´ãƒ»å¾©å…ƒ) | MVP | ğŸ”´ è¦ä½œæˆ |
| 3.8 | **å›³è¡¨å‰Šé™¤ãƒ•ãƒ­ãƒ¼** | 3-9 (å›³è¡¨å‰Šé™¤) | MVP | ğŸ”´ è¦ä½œæˆ |
| 3.9 | **å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ãƒ­ãƒ¼** | 3-10, 3-11 (æ¤œç´¢ãƒ»ç¢ºèª) | Phase 2 | ğŸ”´ è¦ä½œæˆ |
| 3.10 | **ç®¡ç†æ©Ÿèƒ½ãƒ•ãƒ­ãƒ¼** | 5-1ã€œ5-5 (é–‹ç™ºè€…å‘ã‘ç®¡ç†) | Phase 2 | ğŸ”´ è¦ä½œæˆ |

**æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ é€²æ—: 4/10 å®Œäº†ï¼ˆ40%ï¼‰**

**MVPå¿…é ˆã§æœªå®Œäº†: 4ãƒ•ãƒ­ãƒ¼** (3.5ã€œ3.8)
**Phase 2ã§æœªå®Œäº†: 2ãƒ•ãƒ­ãƒ¼** (3.9ã€œ3.10)

#### ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ç·UCæ•° | ã‚«ãƒãƒ¼æ¸ˆã¿ | æœªã‚«ãƒãƒ¼ |
|-----------|:------:|:----------:|:--------:|
| 1. èªè¨¼ | 2 | 2 | 0 |
| 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç† | 3 | 0 | 3 (2-1ã€œ2-3) |
| 3. å›³è¡¨æ“ä½œ | 11 | 4 | 7 (3-5ã€œ3-11) |
| 4. AIæ©Ÿèƒ½ | 2 | 2 | 0 |
| 5. ç®¡ç†æ©Ÿèƒ½ | 5 | 0 | 5 (5-1ã€œ5-5) |
| **åˆè¨ˆ** | **23** | **8** | **15** |

### éæ©Ÿèƒ½è¦ä»¶ä¸€è¦§è¡¨ã®é …ç›®ï¼ˆIPAéæ©Ÿèƒ½è¦æ±‚ã‚°ãƒ¬ãƒ¼ãƒ‰æº–æ‹ ï¼‰

| å¤§é …ç›® | ä¸­é …ç›®ä¾‹ | å®šç¾©å†…å®¹ |
|--------|---------|---------|
| **å¯ç”¨æ€§** | ç¨¼åƒç‡ã€éšœå®³å¾©æ—§æ™‚é–“ï¼ˆRTO/RPOï¼‰ | ã‚µãƒ¼ãƒ“ã‚¹ç¶™ç¶šæ€§ã®è¦ä»¶ |
| **æ€§èƒ½ãƒ»æ‹¡å¼µæ€§** | ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã€åŒæ™‚æ¥ç¶šæ•°ã€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™å€¤ |
| **é‹ç”¨ãƒ»ä¿å®ˆæ€§** | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ç›£è¦–ã€ãƒ­ã‚°ç®¡ç† | é‹ç”¨ã«å¿…è¦ãªæ©Ÿèƒ½ãƒ»ä½“åˆ¶ |
| **ç§»è¡Œæ€§** | ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã€ä¸¦è¡Œç¨¼åƒæœŸé–“ | æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®ç§»è¡Œè¦ä»¶ |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | èªè¨¼ã€èªå¯ã€æš—å·åŒ–ã€ç›£æŸ»ãƒ­ã‚° | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–è¦ä»¶ |
| **ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒ** | å‹•ä½œç’°å¢ƒã€ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ | æŠ€è¡“çš„åˆ¶ç´„ãƒ»å¯¾å¿œç¯„å›² |

---

## å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆä¸‹æ›¸ãï¼‰

**`docs/design/PlantUML_Studio_è¨­è¨ˆå›³è¡¨_20251130.md`** - è¨­è¨ˆå›³è¡¨é›†

âš ï¸ **æ³¨æ„: ã“ã‚Œã¯ä¸‹æ›¸ããƒ»ãŸãŸãå°ã§ã‚ã‚Šã€PRDã«ã¯ç›´æ¥ä½¿ç”¨ã—ãªã„**

æ­£å¼ç‰ˆä½œæˆæ™‚ã®å‚è€ƒè³‡æ–™ã¨ã—ã¦ä½¿ç”¨ã€‚ãƒãƒ£ãƒƒãƒˆã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ¤œè¨¼å¾Œã€`docs/proposals/`ã«æ­£å¼ç‰ˆã‚’ä½œæˆã™ã‚‹ã€‚

### è¨­è¨ˆå›³è¡¨é›†ã®æ§‹æˆï¼ˆå‚è€ƒï¼‰

| ã‚»ã‚¯ã‚·ãƒ§ãƒ³ | å†…å®¹ |
|-----------|------|
| 1 | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³ |
| 2 | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ |
| 3 | æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ï¼ˆå›³è¡¨ä½œæˆã€AIæ”¯æ´ã€æ¤œè¨¼ãƒ«ãƒ¼ãƒ—ã€Excalidrawï¼‰ |
| 4 | ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ï¼ˆãƒ¬ãƒ™ãƒ«0ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³ã€ãƒ¬ãƒ™ãƒ«1ï¼‰ |
| 5 | ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ã€æ–°è¦ä½œæˆã€Excalidrawã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ï¼‰ |
| 6 | ç”»é¢é·ç§»å›³ |
| 7 | ã‚¯ãƒ©ã‚¹å›³ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã€ã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼‰ |
| 8 | æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³å¯¾æ¯”è¡¨ |
| 9 | CRUDè¡¨ï¼ˆæ©Ÿèƒ½Ã—ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ã‚¢ã‚¯ã‚¿ãƒ¼Ã—æ©Ÿèƒ½æ¨©é™ï¼‰ |
| 10 | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼ˆå›³è¡¨ä½œæˆã€æ¤œè¨¼ãƒ«ãƒ¼ãƒ—ã€AIè³ªå•ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿å­˜ã€Excalidrawï¼‰ |
| 11 | å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¸€è¦§ï¼ˆå¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã€APIä»•æ§˜ã€ãƒ‡ãƒ¼ã‚¿é€£æºã€èªè¨¼ï¼‰ |

---

## ä½œæˆæ¸ˆã¿æ­£å¼ç‰ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

`docs/proposals/`å†…ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿æ­£å¼ç‰ˆï¼š

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `PlantUML_Studio_ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³_20251130.md` | ã‚·ã‚¹ãƒ†ãƒ å¢ƒç•Œã€å¤–éƒ¨ã‚¢ã‚¯ã‚¿ãƒ¼å®šç¾© |
| `PlantUML_Studio_ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³_20251130.md` | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ï¼ˆæ¦‚è¦å›³ï¼‹è©³ç´°å›³ï¼‰ |
| `PlantUML_Studio_ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³_ãƒ­ã‚°ã‚¤ãƒ³_20251130.md` | UC1-1, UC1-2: OAuth(PKCE)ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `PlantUML_Studio_æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³_20251201.md` | PlantUMLå›³è¡¨ä½œæˆã€AIæ”¯æ´ã€Excalidrawãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ä½œæˆãƒ•ãƒ­ãƒ¼ |
| `PlantUML_Studio_é–‹ç™ºã‚¹ãƒ†ãƒƒãƒ—è©³ç´°åŒ–è¨ˆç”»_20251130.md` | é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”» |

---

## è¨­è¨ˆå›³è¡¨é›†ã¨ã®æ•´åˆæ€§ãƒ«ãƒ¼ãƒ«

**ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ™‚ã¯å¿…ãšè¨­è¨ˆå›³è¡¨é›†ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã€‚**

| é …ç›® | æ­£ã—ã„ä»•æ§˜ | èª¤ã£ãŸä»•æ§˜ï¼ˆä½¿ç”¨ç¦æ­¢ï¼‰ |
|------|-----------|---------------------|
| PlantUMLãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | node-plantuml + Java 17 + Graphvizï¼ˆå†…éƒ¨ï¼‰ | PlantUML Server APIï¼ˆå¤–éƒ¨ï¼‰ |
| ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ | Monaco Editor | CodeMirror |
| æ¤œè¨¼å‡¦ç† | API Routes (`/api/validate`) + ValidationService | å¤–éƒ¨APIç›´æ¥å‘¼ã³å‡ºã— |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ2025-12-01æ›´æ–°ï¼‰

### å„ªå…ˆåº¦é †ã‚¿ã‚¹ã‚¯

1. [ ] **æ®‹ã‚Š11å›³è¡¨ã®æ­£å¼ç‰ˆä½œæˆ**ï¼ˆPhaseé †ã«ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ï¼‰
   - Phase 2: æ¥­å‹™ãƒ•ãƒ­ãƒ¼å›³ã€DFDã€æ¥­å‹™ãƒ•ãƒ­ãƒ¼ãƒ»DFDå¯¾æ¯”è¡¨
   - Phase 3: ã‚¯ãƒ©ã‚¹å›³ã€CRUDè¡¨
   - Phase 4: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ï¼ˆç·¨é›†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ä¿å­˜èª­è¾¼/å…±æœ‰ï¼‰ã€ç”»é¢é·ç§»å›³ã€ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ 
   - Phase 5: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³ã€å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä¸€è¦§
   - Phase 6: éæ©Ÿèƒ½è¦ä»¶ä¸€è¦§è¡¨ã€ã‚¢ã‚¯ã‚¿ãƒ¼æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹
2. [ ] å…¨å›³è¡¨ãƒ»ä¸€è¦§è¡¨ã®æ•´åˆæ€§æœ€çµ‚ç¢ºèª
3. [ ] PRDãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ¬ä½“ã®ä½œæˆ

### æ®‹ã‚¿ã‚¹ã‚¯è©³ç´°

**éæ©Ÿèƒ½è¦ä»¶ä¸€è¦§è¡¨ã®ä½œæˆï¼ˆIPAéæ©Ÿèƒ½è¦æ±‚ã‚°ãƒ¬ãƒ¼ãƒ‰æº–æ‹ ï¼‰**
- å¯ç”¨æ€§ï¼ˆç¨¼åƒç‡ã€RTO/RPOï¼‰
- æ€§èƒ½ãƒ»æ‹¡å¼µæ€§ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã€åŒæ™‚æ¥ç¶šæ•°ï¼‰
- é‹ç”¨ãƒ»ä¿å®ˆæ€§ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ç›£è¦–ï¼‰
- ç§»è¡Œæ€§ï¼ˆãƒ‡ãƒ¼ã‚¿ç§»è¡Œè¦ä»¶ï¼‰
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ˆèªè¨¼ã€æš—å·åŒ–ã€ç›£æŸ»ï¼‰
- ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼‰

## Key Technical Decisions (Context7 Verified)

### Supabase Auth SSR
```typescript
// å¿…é ˆãƒ‘ã‚¿ãƒ¼ãƒ³: getAll()/setAll()
cookies: {
  getAll() { return cookieStore.getAll() },
  setAll(cookiesToSet) { ... }
}
// ç¦æ­¢: get/set/remove ã¯å‹•ä½œã—ãªã„
```

- Middlewareã§ã¯`getUser()`ã‚’ä½¿ç”¨ï¼ˆNOT `getSession()`ï¼‰
- Next.js 15ã§ã¯`await cookies()`å¿…é ˆ
- ã‚µãƒ¼ãƒãƒ¼å´ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã§`revalidatePath('/', 'layout')`

### Excalidraw React
```typescript
// SSRç„¡åŠ¹åŒ–å¿…é ˆ
const Excalidraw = dynamic(
  () => import('@excalidraw/excalidraw').then(mod => mod.Excalidraw),
  { ssr: false }
)
```

### PlantUMLæ§‹æ–‡æ³¨æ„
- ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã§`note bottom of`ã¯ä½¿ç”¨ä¸å¯ â†’ `note over`ã‚’ä½¿ç”¨

## MCP Servers

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®MCPã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ï¼š

### å¿…é ˆ
- **Context7**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ï¼ˆPlantUMLä»•æ§˜ç­‰ï¼‰
- **Serena**: ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ç†è§£ã€ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ¢ãƒªç®¡ç†

### è¨­å®šæ¸ˆã¿
- **Playwright**: ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ“ä½œ
- **GitHub**: GitHub APIæ“ä½œ
- **Claude Ops**: æ“ä½œå±¥æ­´ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´è¿½è·¡

## Custom Agents

`.claude/agents/`é…ä¸‹ã«PlantUMLå°‚ç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å®šç¾©ï¼š


## PlantUML Code Rules

ã™ã¹ã¦ã®PlantUMLã‚³ãƒ¼ãƒ‰ï¼ˆ.pumlãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ã¯ï¼š
1. ä¿å­˜/ã‚³ãƒŸãƒƒãƒˆå‰ã«å¿…ãš`mcp__plantuml-validator__generate_plantuml_diagram`ã§æ¤œè¨¼
2. æ¤œè¨¼å¤±æ•—æ™‚ã¯ä¿®æ­£â†’å†æ¤œè¨¼ï¼ˆæœ€å¤§5å›ãƒªãƒˆãƒ©ã‚¤ï¼‰
3. æ¤œè¨¼ã‚¹ã‚­ãƒƒãƒ—ãƒ»ã‚¨ãƒ©ãƒ¼ç„¡è¦–ã¯ç¦æ­¢

## Directory Structure

```
PlantUML2_Opus4.5/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ agents/              # ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®šç¾©
â”‚   â””â”€â”€ settings.local.json  # MCPè¨­å®šãƒ»æ¨©é™
â”œâ”€â”€ .obsidian/               # Obsidianè¨­å®š
â”‚   â””â”€â”€ plugins/             # PlantUMLã€Excalidrawãƒ—ãƒ©ã‚°ã‚¤ãƒ³
â”œâ”€â”€ .serena/
â”‚   â”œâ”€â”€ memories/            # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜æ°¸ç¶šåŒ–
â”‚   â”œâ”€â”€ project.yml          # Serenaè¨­å®š
â”‚   â””â”€â”€ QUICK_REFERENCE.md   # Serenaã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ settings.json        # VSCodeè¨­å®š
â”œâ”€â”€ doc/
â”‚   â””â”€â”€ AI_DRIVEN_DEV_ENVIRONMENT_SETUP_GUIDE.md  # AIé§†å‹•é–‹ç™ºã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ context/             # Memory Bankï¼ˆLayer 1ï¼‰
â”‚   â”‚   â”œâ”€â”€ project_brief.md
â”‚   â”‚   â”œâ”€â”€ active_context.md
â”‚   â”‚   â”œâ”€â”€ technical_decisions.md
â”‚   â”‚   â””â”€â”€ coding_standards.md
â”‚   â”œâ”€â”€ design/              # ä¸‹æ›¸ããƒ»ãŸãŸãå°ï¼ˆæœªãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
â”‚   â”‚   â””â”€â”€ PlantUML_Studio_è¨­è¨ˆå›³è¡¨_20251130.md
â”‚   â”œâ”€â”€ evidence/            # ä½œæ¥­è¨¼è·¡
â”‚   â”‚   â”œâ”€â”€ 20251130_claude_md_update/
â”‚   â”‚   â””â”€â”€ 20251130_sequence_diagrams/
â”‚   â”œâ”€â”€ proposals/           # æ­£å¼ç‰ˆï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ PlantUML_Studio_ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå›³_20251130.md
â”‚   â”‚   â”œâ”€â”€ PlantUML_Studio_ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³_20251130.md
â”‚   â”‚   â”œâ”€â”€ PlantUML_Studio_ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³_ãƒ­ã‚°ã‚¤ãƒ³_20251130.md
â”‚   â”‚   â””â”€â”€ PlantUML_Studio_é–‹ç™ºã‚¹ãƒ†ãƒƒãƒ—è©³ç´°åŒ–è¨ˆç”»_20251130.md
â”‚   â”œâ”€â”€ session_handovers/   # ã‚»ãƒƒã‚·ãƒ§ãƒ³å¼•ç¶™ãè³‡æ–™
â”‚   â”œâ”€â”€ templates/           # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ guides/              # ã‚¬ã‚¤ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ poc/evidence/        # PoCè¨¼è·¡ï¼ˆLayer 3ï¼‰
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ create_evidence.ps1  # Evidenceè‡ªå‹•ä½œæˆï¼ˆWindowsï¼‰
â”‚   â””â”€â”€ create_evidence.sh   # Evidenceè‡ªå‹•ä½œæˆï¼ˆLinux/macOSï¼‰
â””â”€â”€ CLAUDE.md                # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰
```

## Tech Stack (Planned)

- **Frontend**: Next.js (App Router), React, TypeScript, Monaco Editor, Tailwind CSS, shadcn/ui
- **Backend**: Supabase, Next.js API Routes
- **AI Integration**: PlantUML Validator MCP, OpenAI/Claude API
- **Deployment**: Vercel (Frontend), Google Cloud Run (MCP Validator)
  - GCP Project: `plantuml-477523`, Region: `asia-northeast1`

## Serena Usage

Serenaã¯ç©æ¥µçš„ã«æ´»ç”¨ã™ã‚‹ï¼š
- `mcp__serena__list_memories`: ä¿å­˜æ¸ˆã¿ãƒ¡ãƒ¢ãƒªä¸€è¦§
- `mcp__serena__read_memory`: ãƒ¡ãƒ¢ãƒªèª­ã¿è¾¼ã¿ï¼ˆé–¢é€£ã‚¿ã‚¹ã‚¯æ™‚ï¼‰
- `mcp__serena__search_for_pattern`: ã‚³ãƒ¼ãƒ‰/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œç´¢
- `mcp__serena__find_symbol`: ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢
- `mcp__serena__get_symbols_overview`: ãƒ•ã‚¡ã‚¤ãƒ«å†…ã‚·ãƒ³ãƒœãƒ«ä¸€è¦§

## Evidence Creation Rules

ã™ã¹ã¦ã®ä½œæ¥­ã§**Evidence 3ç‚¹ã‚»ãƒƒãƒˆ**ä½œæˆå¿…é ˆï¼š
1. `instructions.md`: ä½œæ¥­é–‹å§‹æ™‚ã«ä½œæˆ
2. `00_raw_notes.md`: ä½œæ¥­ä¸­ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
3. `work_sheet.md`: ä½œæ¥­å®Œäº†æ™‚ã«ä½œæˆ

è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: `pwsh scripts/create_evidence.ps1 <evidence_name>`

## Session Handovers

ä»¥ä¸‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å¼•ç¶™ãè³‡æ–™ã‚’ä½œæˆï¼š
- Phaseå®Œäº†æ™‚
- é‡è¦ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³é”æˆæ™‚
- é•·æœŸä½œæ¥­ã®ä¸­æ–­æ™‚
- ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨ç‡90%åˆ°é”æ™‚

---

## ä½œæ¥­é–‹å§‹æ™‚ã®ç¢ºèªãƒ•ãƒ­ãƒ¼

### 0. ã‚»ãƒƒã‚·ãƒ§ãƒ³å¼•ç¶™ãè³‡æ–™ã‚’ç¢ºèªï¼ˆæœ€å„ªå…ˆï¼‰

**æ¬¡ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚**:
- `docs/session_handovers/<latest>.md`: å‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ã®å¼•ç¶™ãè³‡æ–™
  - æœ€æ–°ã®å¼•ç¶™ãè³‡æ–™ã‚’ç¢ºèªï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åã§ã‚½ãƒ¼ãƒˆ: `YYYYMMDD-HHMM_*.md`ï¼‰
  - æ¬¡ã®ä½œæ¥­ã‚¹ãƒ†ãƒƒãƒ—ã€å„ªå…ˆåº¦ã€å¿…èª­ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æŠŠæ¡

### 1. Memory Bankã‚’èª­ã‚€

**åˆå›ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚**:
- `docs/context/project_brief.md`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
- `docs/context/active_context.md`: ç¾åœ¨ã®çŠ¶æ³ã€é€²è¡Œä¸­ã®ä½œæ¥­ã€æ¬¡ã®ã‚¿ã‚¹ã‚¯

**æŠ€è¡“æ±ºå®šãŒå¿…è¦ãªæ™‚**:
- `docs/context/technical_decisions.md`: æ—¢å­˜æ±ºå®šï¼ˆTD-001ã€œï¼‰ã‚’ç¢ºèª
- æ–°ã—ã„æ±ºå®šã‚’ã—ãŸå ´åˆ: technical_decisions.mdã«è¿½è¨˜

### 2. ä½œæ¥­é–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå®Ÿè¡Œ

**æ‰€è¦æ™‚é–“**: ç´„5åˆ†

1. **Memory Bankç¢ºèª**ï¼ˆ3åˆ†ï¼‰
   - `CLAUDE.md`, `docs/context/active_context.md`, `docs/context/technical_decisions.md`

2. **Evidenceãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ**ï¼ˆ1åˆ†ï¼‰
   ```powershell
   pwsh scripts/create_evidence.ps1 <work_type>
   ```

3. **instructions.mdç·¨é›†**ï¼ˆ4åˆ†ï¼‰
   - ç›®æ¨™ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€å®Ÿæ–½å†…å®¹ã€å®Œäº†æ¡ä»¶ã‚’æ˜è¨˜

4. **Todoãƒªã‚¹ãƒˆä½œæˆ**
   - `TodoWrite`ãƒ„ãƒ¼ãƒ«ã§ã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—

---

## Memory Bankæ´»ç”¨æ–¹æ³•

### åˆå›ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚

1. **project_brief.md ã‚’å¿…ãšèª­ã‚€**
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€åˆ¶ç´„ã‚’ç†è§£

2. **active_context.md ã§ç¾åœ¨åœ°ã‚’æŠŠæ¡**
   - é€²è¡Œä¸­ã®ä½œæ¥­
   - æ¬¡ã®ã‚¿ã‚¹ã‚¯
   - ãƒ–ãƒ­ãƒƒã‚«ãƒ¼

3. **é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸æ·±æ˜ã‚Š**
   - technical_decisions.md: æŠ€è¡“åˆ¤æ–­ã®èƒŒæ™¯
   - coding_standards.md: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### Memory Bankæ§‹æˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|---------|------|---------------|
| `project_brief.md` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™ã€ã‚¹ã‚³ãƒ¼ãƒ—ã€ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— | Phaseå¤‰æ›´æ™‚ |
| `active_context.md` | ç¾åœ¨ã®çŠ¶æ³ã€é€²è¡Œä¸­ã®ä½œæ¥­ | æ¯ã‚»ãƒƒã‚·ãƒ§ãƒ³ |
| `technical_decisions.md` | æŠ€è¡“æ±ºå®šè¨˜éŒ²ï¼ˆTD-001ã€œï¼‰ | æ±ºå®šæ™‚ |
| `coding_standards.md` | ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ | è¦ç´„å¤‰æ›´æ™‚ |

---

## Serenaæ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

### ä½œæ¥­é–‹å§‹æ™‚ï¼ˆå¿…é ˆ4ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

```
1. mcp__serena__activate_project  â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ
2. mcp__serena__get_current_config â†’ è¨­å®šç¢ºèª
3. mcp__serena__list_dir          â†’ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æŠŠæ¡
4. mcp__serena__list_memories     â†’ åˆ©ç”¨å¯èƒ½ãªãƒ¡ãƒ¢ãƒªä¸€è¦§
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥æ´»ç”¨

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ç”¨é€” | ä½¿ç”¨ãƒ„ãƒ¼ãƒ« |
|---------|------|-----------|
| ãƒ‘ã‚¿ãƒ¼ãƒ³1 | instructions.mdä½œæˆ | `list_dir`, `find_file`, `read_memory` |
| ãƒ‘ã‚¿ãƒ¼ãƒ³2 | 00_raw_notes.mdæ›´æ–° | `get_symbols_overview`, `find_symbol` |
| ãƒ‘ã‚¿ãƒ¼ãƒ³3 | work_sheet.mdä½œæˆ | `find_referencing_symbols`, `search_for_pattern` |
| ãƒ‘ã‚¿ãƒ¼ãƒ³4 | ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº† | `write_memory` |

---

## é‡è¦ãªåˆ¶ç´„ï¼ˆæ†²æ³•ç´šãƒ«ãƒ¼ãƒ«ï¼‰

ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã¯**çµ¶å¯¾ã«å®ˆã‚‹ã“ã¨**ï¼š

| ãƒ«ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| Evidence 3ç‚¹ã‚»ãƒƒãƒˆå¿…é ˆ | ã™ã¹ã¦ã®ä½œæ¥­ã§`instructions.md`, `00_raw_notes.md`, `work_sheet.md`ã‚’å®Œå‚™ |
| ãƒˆãƒ¼ã‚¯ãƒ³90%ãƒ«ãƒ¼ãƒ« | ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨ç‡90%åˆ°é”æ™‚ã«å¼•ç¶™ãè³‡æ–™ã‚’è‡ªå‹•ä½œæˆ |
| Serena Memoriesä¿å­˜ | ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚ã«`write_memory`ã§çŸ¥è­˜ã‚’æ°¸ç¶šåŒ– |
| æ­£å¼ç‰ˆã¯proposals/ | PRDã«æ¡ç”¨ã™ã‚‹ã®ã¯`docs/proposals/`å†…ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ |
| æŠ€è¡“ä»•æ§˜å³å®ˆ | node-plantumlï¼ˆå†…éƒ¨ï¼‰ã€Monaco Editorã€API RoutesçµŒç”± |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | ãƒ‘ã‚¹ | å†…å®¹ |
|-------------|------|------|
| AIé§†å‹•é–‹ç™ºã‚¬ã‚¤ãƒ‰ | `doc/AI_DRIVEN_DEV_ENVIRONMENT_SETUP_GUIDE.md` | ç’°å¢ƒæ§‹ç¯‰ãƒ»é‹ç”¨ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ |
| Memory Bank | `docs/context/` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›† | `docs/templates/` | Evidenceãƒ»å¼•ç¶™ãè³‡æ–™ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³å¼•ç¶™ã | `docs/session_handovers/` | éå»ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å¼•ç¶™ãè³‡æ–™ |
